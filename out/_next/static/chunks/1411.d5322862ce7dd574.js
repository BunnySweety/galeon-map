"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1411],{41411:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(95155),l=s(12115),i=s(65528),n=s(6684),r=s(55028),o=s(66313),d=s(66766),c=s(84129);let m=(0,r.default)(()=>s.e(7145).then(s.bind(s,77145)),{loadableGenerated:{webpack:()=>[77145]},ssr:!1});function x(){let{i18n:e}=(0,i.b)(),{selectedFilters:t,searchQuery:s,hospitals:r,selectedHospital:x}=(0,n.a)(),{openModal:b,closeModal:h,isModalOpen:u,selectedHospital:f}=(0,c.a)(),p=(0,l.useCallback)(t=>{try{return(null==e?void 0:e._)?e._(t):t}catch(e){return t}},[e]),j=(0,n.a)(e=>e.filteredHospitals),y=0===j.length,v=0===r.length;(0,l.useEffect)(()=>{x&&b("map-hospital",x)},[x,b]);let g=(0,l.useCallback)((e,t)=>{(t.velocity.y>500||t.offset.y>50)&&h()},[h]);return v?(0,a.jsx)("div",{className:"relative w-full h-full bg-slate-900 mobile-map-container flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-slate-700 mx-auto"}),(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-blue-500 border-t-transparent absolute inset-0 mx-auto"})]}),(0,a.jsx)("p",{className:"text-slate-400 text-sm",children:p("Loading hospitals...")})]})}):(0,a.jsxs)("div",{className:"relative w-full h-full bg-slate-900 mobile-map-container",children:[(0,a.jsx)(m,{filteredHospitals:j}),y&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-slate-900/80 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"text-center p-6 max-w-sm",children:[(0,a.jsx)("svg",{className:"w-16 h-16 text-slate-600 mb-4 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("h3",{className:"text-white font-medium text-lg mb-2",children:p("No hospitals to display")}),(0,a.jsx)("p",{className:"text-slate-400 text-sm text-center",children:p(s?"Try adjusting your search or filters":"Try adjusting your filters")})]})}),(0,a.jsx)(o.a,{children:u("map-hospital")&&f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm mobile-modal-backdrop",onClick:h}),(0,a.jsx)(o.b.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:400},className:"fixed bottom-0 left-4 right-4 mobile-modal-content max-h-[80vh] overflow-hidden",drag:"y",dragConstraints:{top:0},dragElastic:{top:0,bottom:.8},onDragEnd:g,children:(0,a.jsxs)("div",{className:"glass-container bg-gradient-to-b from-[#1E2B3A] to-[#121A23] border-t border-white/10 rounded-t-2xl",children:[(0,a.jsx)("div",{className:"py-3 px-4",children:(0,a.jsx)("div",{className:"w-16 h-1.5 bg-gray-500 rounded-full mx-auto"})}),(0,a.jsxs)("div",{className:"px-4 pb-6 max-h-[70vh] overflow-y-auto overflow-x-hidden mobile-modal-scroll-content",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h2",{className:"text-white text-xl font-medium tracking-wide flex-1 pr-3",children:f.name}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border flex-shrink-0 ".concat("Deployed"===f.status?"bg-[#3b82f6]/20 text-[#3b82f6] border-[#3b82f6]/30":"bg-[#10b981]/20 text-[#10b981] border-[#10b981]/30"),children:p(f.status)})]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm leading-relaxed",children:f.address})]}),f.imageUrl&&(0,a.jsx)("div",{className:"relative w-full h-48 rounded-xl overflow-hidden mb-4 glass-container border border-white/10 mobile-modal-image",children:(0,a.jsx)(d.default,{src:f.imageUrl,alt:f.name,fill:!0,className:"object-cover"})}),(0,a.jsx)("div",{className:"space-y-3 mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-400 text-sm mb-1",children:p("Deployment Date")}),(0,a.jsx)("p",{className:"text-white",children:new Date(f.deploymentDate).toLocaleDateString(e.locale||"fr",{year:"numeric",month:"long",day:"numeric"})})]})}),(0,a.jsxs)("div",{className:"flex space-x-3 mobile-modal-actions",children:[(0,a.jsx)("button",{onClick:()=>window.open("https://maps.google.com/?q=".concat(f.coordinates.join(",")),"_blank"),className:"flex-1 py-3 px-4 glass-container border border-[#3b82f6]/30 bg-[#3b82f6]/10 text-[#3b82f6] rounded-xl text-sm font-medium hover:bg-[#3b82f6]/20 transition-all",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),(0,a.jsx)("span",{children:p("Navigate")})]})}),(0,a.jsx)("button",{onClick:()=>window.open(f.website,"_blank"),className:"flex-1 py-3 px-4 glass-container border border-white/20 text-gray-300 rounded-xl text-sm font-medium hover:bg-white/5 hover:text-white transition-all",children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),(0,a.jsx)("span",{children:p("Website")})]})})]})]})]})})]})})]})}},84129:(e,t,s)=>{s.d(t,{a:()=>i});var a=s(12115),l=s(66452);let i=function(){let{activeModal:e,setActiveModal:t,selectedHospital:s,setSelectedHospital:i}=(0,l.b)(),n=(0,a.useCallback)((s,a)=>{e&&e!==s&&r(),t(s),a&&i(a),"undefined"!=typeof document&&(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%")},[e,t,i]),r=(0,a.useCallback)(()=>{t(null),setTimeout(()=>{i(null)},100),"undefined"!=typeof document&&(document.body.style.overflow="",document.body.style.position="",document.body.style.width="")},[t,i]);return{openModal:n,closeModal:r,isModalOpen:(0,a.useCallback)(t=>e===t,[e]),isAnyModalOpen:null!==e,activeModal:e,selectedHospital:s}}}}]);
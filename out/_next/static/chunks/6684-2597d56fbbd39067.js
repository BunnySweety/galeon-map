(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6684],{6684:(e,a,t)=>{"use strict";t.d(a,{a:()=>p}),t(12421);var n=t(65521),r=t(46786),s=t(50976),i=t(64968);let o=i.z.object({id:i.z.string(),name:i.z.string(),nameEn:i.z.string(),nameFr:i.z.string(),status:i.z.enum(["Deployed","Signed"]),deploymentDate:i.z.string(),website:i.z.string().url(),coordinates:i.z.tuple([i.z.number(),i.z.number()]),address:i.z.string(),imageUrl:i.z.string(),hasDPI:i.z.boolean().optional()});i.z.array(o);var l=t(58236);let d=[{id:"1",name:"Centre Hospitalier de Ch\xe2lon-sur-Saone",nameEn:"Ch\xe2lon-sur-Saone Hospital Center",nameFr:"Centre Hospitalier de Ch\xe2lon-sur-Saone",status:"Deployed",deploymentDate:"2023-06-15",website:"https://www.ch-chalon71.fr",coordinates:[4.8557,46.7808],address:"Ch\xe2lon-sur-Sa\xf4ne, France",imageUrl:"/images/hospitals/chalon.png"},{id:"2",name:"Centre Hospitalier de Toulon",nameEn:"Toulon Hospital Center",nameFr:"Centre Hospitalier de Toulon",status:"Deployed",deploymentDate:"2023-09-20",website:"https://www.ch-toulon.fr",coordinates:[5.9333,43.1167],address:"Toulon, France",imageUrl:"/images/hospitals/toulon.png"},{id:"3",name:"Centre Hospitalier de Hy\xe8res",nameEn:"Hy\xe8res Hospital Center",nameFr:"Centre Hospitalier de Hy\xe8res",status:"Deployed",deploymentDate:"2023-08-15",website:"https://www.ch-hyeres.fr",coordinates:[6.1292,43.1206],address:"Hy\xe8res, France",imageUrl:"/images/hospitals/hyeres.png"},{id:"4",name:"Centre Hospitalier Universitaire de Caen Normandie",nameEn:"CHU Caen",nameFr:"CHU Caen",status:"Deployed",deploymentDate:"2023-07-10",website:"https://www.chu-caen.fr",coordinates:[-.3707,49.1829],address:"Caen, France",imageUrl:"/images/hospitals/caen.png"},{id:"5",name:"Centre Hospitalier Sud Francilien",nameEn:"South Francilian Hospital Center",nameFr:"Centre Hospitalier Sud Francilien",status:"Deployed",deploymentDate:"2023-11-05",website:"https://www.chsf.fr",coordinates:[2.4702,48.6142],address:"Corbeil-Essonnes, France",imageUrl:"/images/hospitals/corbeil.png"},{id:"6",name:"Groupe Hospitalier Nord-Essonne - Site de Longjumeau",nameEn:"Longjumeau",nameFr:"Longjumeau",status:"Deployed",deploymentDate:"2024-02-01",website:"https://www.gh-nord-essonne.fr",coordinates:[2.295,48.6953],address:"Longjumeau, France",imageUrl:"/images/hospitals/longjumeau.png"},{id:"7",name:"Groupe Hospitalier Nord-Essonne - Site d'Orsay",nameEn:"Orsay",nameFr:"Orsay",status:"Deployed",deploymentDate:"2024-02-01",website:"https://www.gh-nord-essonne.fr",coordinates:[2.1818,48.7019],address:"Orsay, France",imageUrl:"/images/hospitals/orsay.png"},{id:"8",name:"Centre Hospitalier Jean Leclaire",nameEn:"Jean Leclaire Hospital Center",nameFr:"Centre Hospitalier Jean Leclaire",status:"Deployed",deploymentDate:"2023-08-20",website:"https://www.ch-sarlat.fr",coordinates:[1.2167,44.8883],address:"Sarlat, France",imageUrl:"/images/hospitals/sarlat.png"},{id:"9",name:"Centre Hospitalier Samuel Pozzi",nameEn:"Samuel Pozzi Hospital Center",nameFr:"Centre Hospitalier Samuel Pozzi",status:"Deployed",deploymentDate:"2023-10-15",website:"https://www.ch-bergerac.fr",coordinates:[.483,44.8511],address:"Bergerac, France",imageUrl:"/images/hospitals/bergerac.png"},{id:"10",name:"Centre Hospitalier de P\xe9rigueux",nameEn:"P\xe9rigueux Hospital Center",nameFr:"Centre Hospitalier de P\xe9rigueux",status:"Deployed",deploymentDate:"2023-07-01",website:"https://www.ch-perigueux.fr",coordinates:[.7167,45.1833],address:"P\xe9rigueux, France",imageUrl:"/images/hospitals/perigueux.png"},{id:"11",name:"Les Bluets",nameEn:"Les Bluets",nameFr:"Les Bluets",status:"Deployed",deploymentDate:"2023-12-01",website:"https://www.bluets.org",coordinates:[2.3902,48.8489],address:"Paris, France",imageUrl:"/images/hospitals/bluets.png"},{id:"12",name:"Centre Hospitalier de Montceau",nameEn:"Montceau Hospital Center",nameFr:"Centre Hospitalier de Montceau",status:"Deployed",deploymentDate:"2023-05-15",website:"https://www.ch-montceau71.fr",coordinates:[4.3659,46.6709],address:"Montceau-les-Mines, France",imageUrl:"/images/hospitals/montceau.png"},{id:"13",name:"Centre Hospitalier d'Autun",nameEn:"Autun Hospital Center",nameFr:"Centre Hospitalier d'Autun",status:"Deployed",deploymentDate:"2023-11-20",website:"https://www.ch-autun.fr",coordinates:[4.2994,46.9511],address:"Autun, France",imageUrl:"/images/hospitals/autun.png"},{id:"14",name:"CHU de Rouen",nameEn:"Rouen University Hospital",nameFr:"CHU de Rouen",status:"Deployed",deploymentDate:"2023-06-01",website:"https://www.chu-rouen.fr",coordinates:[1.1153,49.4431],address:"Rouen, France",imageUrl:"/images/hospitals/rouen.png"},{id:"15",name:"Centre Hospitalier d'Arpajon",nameEn:"Arpajon Hospital Center",nameFr:"Centre Hospitalier d'Arpajon",status:"Deployed",deploymentDate:"2024-03-01",website:"https://www.ch-arpajon.fr",coordinates:[2.2456,48.5906],address:"Arpajon, France",imageUrl:"/images/hospitals/arpajon.png"},{id:"16",name:"Centre Hospitalier de Sainte-Foy-la-Grande",nameEn:"Sainte-Foy-la-Grande",nameFr:"Sainte-Foy-la-Grande",status:"Deployed",deploymentDate:"2023-10-01",website:"https://www.ch-saintefoy.fr",coordinates:[.2167,44.8383],address:"Sainte-Foy-la-Grande, France",imageUrl:"/images/hospitals/saintefoy.png"},{id:"17",name:"H\xf4pital Saint Joseph",nameEn:"Saint Joseph Hospital",nameFr:"H\xf4pital Saint Joseph",status:"Signed",deploymentDate:"2024-04-08",website:"http://www.hopital-saint-joseph.fr/",coordinates:[5.39,43.28],address:"Marseille, France",imageUrl:"/images/hospitals/marseille-saint-joseph.png",hasDPI:!0},{id:"18",name:"Centre Hospitalier Public du Cotentin",nameEn:"Cherbourg",nameFr:"Cherbourg",status:"Signed",deploymentDate:"2024-05-23",website:"https://www.ch-cotentin.fr",coordinates:[-1.62,49.630001],address:"Cherbourg-en-Cotentin, France",imageUrl:"/images/hospitals/cherbourg.png"}],p=(0,n.a)()((0,r.a)((0,r.b)((e,a)=>({hospitals:[],filteredHospitals:[],currentDate:"2024-05-23",selectedFilters:{deployed:!0,signed:!0},searchQuery:"",language:"en",selectedHospital:null,isLoading:!1,error:null,hydrated:!1,timelineIndex:0,timelineLength:0,setHospitals:a=>e({hospitals:a}),setFilteredHospitals:a=>e({filteredHospitals:a}),setCurrentDate:t=>{e({currentDate:t}),a().applyFilters()},toggleFilter:t=>{e(e=>({selectedFilters:{...e.selectedFilters,[t]:!e.selectedFilters[t]}})),a().applyFilters()},setSearchQuery:t=>{e({searchQuery:t}),a().applyFilters()},setLanguage:async a=>{try{e({language:a}),await (0,s.a)(a)}catch(a){l.a.error("Failed to set language:",a),e(e=>({language:e.language}))}},selectHospital:a=>e({selectedHospital:a}),setLoading:a=>e({isLoading:a}),setError:a=>e({error:a}),setHydrated:a=>e({hydrated:a}),setTimelineState:(a,t)=>e({timelineIndex:a,timelineLength:t}),initialize:async()=>{let{setHospitals:e,applyFilters:t,setHydrated:n}=a();try{e(d),t(),n(!0)}catch(e){l.a.error("Erreur initialisation store desktop:",e),n(!0)}},fetchHospitals:async()=>{let{setLoading:t,setError:n,setHospitals:r,applyFilters:s}=a();try{if(t(!0),n(null),r(d),d&&d.length>0){let t=d.map(e=>e.deploymentDate).sort()[0];t&&a().currentDate!==t&&e({currentDate:t})}s()}catch(t){if(l.a.error("Error fetching hospitals:",t),r(d),d&&d.length>0){let t=d.map(e=>e.deploymentDate).sort()[0];t&&a().currentDate!==t&&e({currentDate:t})}s(),n(t instanceof Error?t.message:"Unknown error")}finally{t(!1)}},applyFilters:()=>{let{hospitals:t,selectedFilters:n,currentDate:r,searchQuery:s}=a(),i=t.filter(e=>"Deployed"===e.status&&!!n.deployed||"Signed"===e.status&&!!n.signed).filter(e=>{try{let a=new Date(r);return new Date(e.deploymentDate)<=a}catch(a){return l.a.error("Erreur parsing date pour h\xf4pital ".concat(e.id,":"),a),!0}}).filter(e=>{var a,t,n,r;if(!s)return!0;let i=s.toLowerCase(),o=(null==(a=e.name)?void 0:a.toLowerCase())||"",l=(null==(t=e.nameEn)?void 0:t.toLowerCase())||"",d=(null==(n=e.nameFr)?void 0:n.toLowerCase())||"",p=(null==(r=e.address)?void 0:r.toLowerCase())||"";return o.includes(i)||l.includes(i)||d.includes(i)||p.includes(i)});return e({filteredHospitals:i}),i}}),{name:"hospital-map-storage",partialize:e=>({language:e.language,selectedFilters:e.selectedFilters})})))},50976:(e,a,t)=>{"use strict";t.d(a,{a:()=>l,b:()=>d});var n=t(62580),r=t(67785),s=t(58236);let i={en:"English",fr:"Fran\xe7ais"};n.a.loadLocaleData({en:{plurals:r.a},fr:{plurals:r.b}});let o={en:{},fr:{}};async function l(e){s.a.debug("Setting language in store to: ".concat(e));try{if(0===Object.keys(o[e]||{}).length){let a=await t(87005)("./".concat(e,".js")).then(e=>e.messages);o[e]=a}return n.a.load(e,o[e]),n.a.activate(e),localStorage.setItem("locale",e),s.a.debug("Locale ".concat(e," activated with ").concat(Object.keys(o[e]).length," messages")),s.a.debug("Language set to ".concat(e," and locale activated")),!0}catch(a){if(s.a.error("Failed to activate language ".concat(e,":"),a),"en"!==e)return l("en");return!1}}function d(){if(n.a._locale&&n.a._messages&&Object.keys(n.a._messages).length>0)return s.a.debug("I18n already initialized, skipping"),n.a;setTimeout(()=>{try{let e=console.warn;console.warn=function(){for(var a=arguments.length,t=Array(a),n=0;n<a;n++)t[n]=arguments[n];t[0]&&"string"==typeof t[0]&&t[0].includes("Uncompiled message")||e.apply(console,t)}}catch(e){}},0);let e="en";{let a=localStorage.getItem("locale");a&&Object.keys(i).includes(a)&&(e=a)}return n.a.load("en",{}),n.a.activate("en"),s.a.debug("I18n initialized with default locale","en"),"en"!==e?l(e):l("en"),n.a}d()},58236:(e,a,t)=>{"use strict";t.d(a,{a:()=>n});let n={log:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t]},warn:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t]},error:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];console.error(...a)},info:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t]},debug:function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t]}}},87005:(e,a,t)=>{var n={"./en.js":[24530,4530],"./fr.js":[32173,2173]};function r(e){if(!t.o(n,e))return Promise.resolve().then(()=>{var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a});var a=n[e],r=a[0];return t.e(a[1]).then(()=>t(r))}r.keys=()=>Object.keys(n),r.id=87005,e.exports=r}}]);
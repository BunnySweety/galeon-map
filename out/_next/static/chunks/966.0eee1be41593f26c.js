"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{9012:(e,t,s)=>{function l(e,t){let s=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3?arguments[3]:void 0;return e.filter(e=>{if(!t.deployed&&"Deployed"===e.status||!t.signed&&"Signed"===e.status)return!1;if(l&&new Date(e.deploymentDate)>new Date(l))return!1;if(s.trim()){let t=s.toLowerCase();return e.name.toLowerCase().includes(t)||e.address.toLowerCase().includes(t)||e.nameEn.toLowerCase().includes(t)||e.nameFr.toLowerCase().includes(t)}return!0}).sort((e,t)=>new Date(t.deploymentDate).getTime()-new Date(e.deploymentDate).getTime())}(e,t),l=s.filter(e=>"Deployed"===e.status).length,a=s.filter(e=>"Signed"===e.status).length;return{total:s.length,deployed:l,signed:a,deploymentRate:s.length>0?Math.round(l/s.length*100):0}}function a(e){let t=new Map;return e.filter((e,t,s)=>s.findIndex(t=>t.id===e.id)===t).forEach(e=>{let s=e.deploymentDate;t.has(s)||t.set(s,{date:s,hospitals:[]}),t.get(s).hospitals.map(e=>e.id).includes(e.id)||t.get(s).hospitals.push(e)}),Array.from(t.values()).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())}s.d(t,{a:()=>a,b:()=>l})},60966:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var l=s(95155),a=s(12115),i=s(65528),n=s(6684),r=s(66313),c=s(35912),d=s(26399),o=s(99944),h=s(9012);let u=(0,a.memo)(function(){let{i18n:e}=(0,i.b)(),{hospitals:t,currentDate:s,setCurrentDate:u}=(0,n.a)(),[m,x]=(0,a.useState)(!1),f=(0,a.useRef)(null),b=(0,a.useRef)(null),p=(0,a.useRef)({}),g=(0,a.useCallback)(t=>{try{return(null==e?void 0:e._)?e._(t):t}catch(e){return t}},[e]),w=(0,a.useMemo)(()=>(null==t?void 0:t.length)?(0,h.a)(t):[],[t]),v=(0,a.useMemo)(()=>{let e=w.length,t=w.findIndex(e=>e.date===s),l=t+1,a=e>0?Math.round(l/e*100):0;return{totalPoints:e,currentIndex:t,currentPosition:l,progressPercent:a,isFirst:0===t,isLast:t===e-1,hasNext:t<e-1,hasPrev:t>0}},[w,s]),j=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=p.current[e];s&&setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"center"})},t)},[]),y=(0,a.useCallback)(e=>{let{currentIndex:t,totalPoints:s}=v,l=-1;switch(e){case"prev":l=Math.max(0,t-1);break;case"next":l=Math.min(s-1,t+1);break;case"first":l=0}let a=w[l];a&&(u(a.date),j(a.date),x(!1))},[v,w,u,j]);(0,a.useEffect)(()=>{if(!m||v.isLast){f.current&&(clearTimeout(f.current),f.current=null),m&&v.isLast&&x(!1);return}return f.current=setTimeout(()=>{y("next")},2500),()=>{f.current&&(clearTimeout(f.current),f.current=null)}},[m,v.isLast,y]);let N=(0,a.useCallback)(()=>{v.isLast&&!m?y("first"):j(s),x(!m)},[v.isLast,m,y,j,s]),C=(0,a.useCallback)(e=>{u(e),j(e),x(!1)},[u,j]),k=(0,a.useCallback)(t=>{let s="fr"===e.locale?o.b:o.a;return(0,c.a)(new Date(t),"dd MMM yyyy",{locale:s})},[e.locale]),D=(0,a.useMemo)(()=>{let e=t.filter(e=>"Deployed"===e.status).length,s=t.filter(e=>"Signed"===e.status).length;return{totalHospitals:t.length,deployedHospitals:e,signedHospitals:s,completionRate:t.length>0?Math.round(e/t.length*100):0}},[t]);return(0,l.jsxs)("div",{className:"h-full flex flex-col mobile-timeline-container",children:[(0,l.jsxs)("div",{className:"px-4 py-4 glass-container border-b border-white/10 flex-shrink-0",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h1",{className:"text-white font-medium text-lg tracking-wide",children:g("Hospital Deployment")}),(0,l.jsxs)("span",{className:"text-[#A1CBF9] text-sm font-medium",children:[D.totalHospitals," ",g("total")]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("button",{onClick:()=>y("prev"),disabled:v.isFirst,className:"min-w-touch min-h-touch flex items-center justify-center glass-container rounded-xl text-white hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",style:{minWidth:"44px",minHeight:"44px"},"aria-label":g("Previous"),children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),(0,l.jsx)("button",{onClick:N,className:"min-w-touch min-h-touch flex items-center justify-center rounded-xl text-white transition-all active:scale-95 ".concat(m?"bg-red-500 hover:bg-red-600":"bg-[#3b82f6] hover:bg-[#2563eb]"),style:{minWidth:"44px",minHeight:"44px"},"aria-label":m?g("Pause"):g("Play"),children:m?(0,l.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):(0,l.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,l.jsx)("button",{onClick:()=>y("next"),disabled:v.isLast,className:"min-w-touch min-h-touch flex items-center justify-center glass-container rounded-xl text-white hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",style:{minWidth:"44px",minHeight:"44px"},"aria-label":g("Next"),children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-white font-bold text-sm",children:k(s)}),(0,l.jsxs)("p",{className:"text-[#A1CBF9] text-xs font-medium",children:[v.currentPosition," / ",v.totalPoints]})]})]})]}),(0,l.jsx)("div",{ref:b,className:"flex-1 overflow-y-auto",style:{WebkitOverflowScrolling:"touch"},children:(0,l.jsx)("div",{className:"p-4 space-y-4",children:w.map((e,t)=>{let a=new Date(e.date),i=a<=new Date(s),n=e.date===s,c=(0,d.a)(a);return(0,l.jsx)(r.b.div,{ref:t=>{p.current[e.date]=t},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Math.min(.03*t,.2),duration:.15},className:"relative",children:(0,l.jsxs)("div",{className:"glass-container rounded-xl p-4 border transition-all cursor-pointer ".concat(n?"border-[#3b82f6]/60 bg-gradient-to-br from-[#3b82f6]/15 to-[#1d4ed8]/10 shadow-lg shadow-blue-500/25":i?"border-white/20 bg-white/5":"border-white/10 hover:border-white/20 hover:bg-white/5"),onClick:()=>C(e.date),children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm transition-all ".concat(n?"bg-[#3b82f6] shadow-lg scale-110":i?"bg-[#10b981] shadow-md":"bg-gray-700"),children:i&&!n?(0,l.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}):t+1}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,l.jsx)("p",{className:"text-white font-semibold",children:k(e.date)}),c&&(0,l.jsx)("span",{className:"text-xs bg-green-500 text-white px-2 py-1 rounded-full",children:g("Today")})]})})]}),n&&(0,l.jsxs)(r.b.div,{className:"flex items-center space-x-1",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,l.jsx)(r.b.div,{className:"w-2 h-2 bg-[#3b82f6] rounded-full",animate:{scale:[1,1.5,1]},transition:{duration:1.5,repeat:1/0}}),(0,l.jsx)("span",{className:"text-[#A1CBF9] text-xs font-medium",children:g("Active")})]})]}),(0,l.jsx)("div",{className:"space-y-2 mb-3",children:e.hospitals.map(e=>{let t="Deployed"===e.status?"#3b82f6":"#10b981";return(0,l.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t}}),(0,l.jsx)("span",{className:"text-white text-sm font-medium",children:e.name})]}),(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:"".concat(t,"20"),color:t},children:g(e.status)})]},e.id)})})]})},e.date)})})}),(0,l.jsxs)("div",{className:"px-4 py-3 glass-container border-t border-white/10 flex-shrink-0",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:g("Progress")}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsxs)("p",{className:"text-white font-medium text-sm",children:[v.progressPercent,"%"]})})]}),(0,l.jsx)("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:(0,l.jsx)(r.b.div,{className:"h-full bg-gradient-to-r from-[#3b82f6] to-[#1d4ed8]",animate:{width:"".concat(v.progressPercent,"%")},transition:{duration:.5,ease:"easeOut"}})})]})]})})}}]);
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/components/Map.tsx":
/*!********************************!*\
  !*** ./app/components/Map.tsx ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mapbox-gl */ \"(app-pages-browser)/./node_modules/mapbox-gl/dist/mapbox-gl.js\");\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mapbox-gl/dist/mapbox-gl.css */ \"(app-pages-browser)/./node_modules/mapbox-gl/dist/mapbox-gl.css\");\n/* harmony import */ var _lingui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lingui/react */ \"(app-pages-browser)/./node_modules/@lingui/react/dist/index.mjs\");\n/* harmony import */ var _store_useMapStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store/useMapStore */ \"(app-pages-browser)/./app/store/useMapStore.ts\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(app-pages-browser)/./node_modules/date-fns/format.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n// File: app/components/Map.tsx\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Setup MapBox token (in production, use environment variables)\n(mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().accessToken) = process.env.NEXT_PUBLIC_MAPBOX_TOKEN || 'pk.eyJ1IjoiamVhbmJvbjkxIiwiYSI6ImNtNDlhMHMzNTA3YnkycXM2dmYxc281MHkifQ.taYYM3jxELZ5CZuOH9_3SQ';\nconst MapComponent = (param)=>{\n    let { className = '' } = param;\n    _s();\n    const { i18n } = (0,_lingui_react__WEBPACK_IMPORTED_MODULE_5__.useLingui)();\n    // Create a safe translation function wrapped in useCallback\n    const _ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MapComponent.useCallback[_]\": (text)=>{\n            try {\n                return i18n && i18n._ ? i18n._(text) : text;\n            } catch (e) {\n                return text;\n            }\n        }\n    }[\"MapComponent.useCallback[_]\"], [\n        i18n\n    ]);\n    const mapContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const markers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const [mapLoaded, setMapLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { filteredHospitals, selectedHospital, selectHospital } = (0,_store_useMapStore__WEBPACK_IMPORTED_MODULE_4__.useMapStore)();\n    // Pour éviter le warning \"Hospital is declared but its value is never read\"\n    // Encapsulé dans useCallback pour éviter les recréations inutiles\n    const getHospitalById = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MapComponent.useCallback[getHospitalById]\": (id)=>{\n            return filteredHospitals.find({\n                \"MapComponent.useCallback[getHospitalById]\": (h)=>h.id === id\n            }[\"MapComponent.useCallback[getHospitalById]\"]);\n        }\n    }[\"MapComponent.useCallback[getHospitalById]\"], [\n        filteredHospitals\n    ]);\n    // Log des hôpitaux pour utiliser explicitement le type Hospital\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapComponent.useEffect\": ()=>{\n            if (filteredHospitals.length > 0) {\n                console.log(\"Filtered hospitals:\", filteredHospitals.map({\n                    \"MapComponent.useEffect\": (h)=>({\n                            id: h.id,\n                            name: h.name,\n                            status: h.status,\n                            location: h.coordinates\n                        })\n                }[\"MapComponent.useEffect\"]));\n            }\n        }\n    }[\"MapComponent.useEffect\"], [\n        filteredHospitals\n    ]);\n    // Initialize map\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapComponent.useEffect\": ()=>{\n            if (!mapContainer.current) return;\n            map.current = new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Map)({\n                container: mapContainer.current,\n                style: 'mapbox://styles/mapbox/dark-v11',\n                center: [\n                    2.213749,\n                    46.227638\n                ],\n                zoom: 5,\n                attributionControl: false\n            });\n            // Add navigation controls\n            map.current.addControl(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().NavigationControl)(), 'bottom-right');\n            // Add geolocate control\n            map.current.addControl(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().GeolocateControl)({\n                positionOptions: {\n                    enableHighAccuracy: true\n                },\n                trackUserLocation: true\n            }), 'bottom-right');\n            // Add fullscreen control\n            map.current.addControl(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().FullscreenControl)(), 'bottom-right');\n            map.current.on('load', {\n                \"MapComponent.useEffect\": ()=>{\n                    setMapLoaded(true);\n                }\n            }[\"MapComponent.useEffect\"]);\n            // Cleanup on unmount\n            return ({\n                \"MapComponent.useEffect\": ()=>{\n                    if (map.current) {\n                        map.current.remove();\n                        map.current = null;\n                    }\n                }\n            })[\"MapComponent.useEffect\"];\n        }\n    }[\"MapComponent.useEffect\"], []);\n    // Handle markers update when hospitals change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapComponent.useEffect\": ()=>{\n            if (!mapLoaded || !map.current) return;\n            // Clear existing markers\n            markers.current.forEach({\n                \"MapComponent.useEffect\": (marker)=>marker.remove()\n            }[\"MapComponent.useEffect\"]);\n            markers.current = [];\n            // Add markers for filtered hospitals\n            filteredHospitals.forEach({\n                \"MapComponent.useEffect\": (hospital)=>{\n                    // Create custom marker element\n                    const markerEl = document.createElement('div');\n                    markerEl.className = 'hospital-marker';\n                    markerEl.style.width = '24px';\n                    markerEl.style.height = '24px';\n                    markerEl.style.borderRadius = '50%';\n                    markerEl.style.backgroundColor = hospital.status === 'Deployed' ? '#36A2EB' : '#4BC0C0';\n                    markerEl.style.border = '2px solid white';\n                    markerEl.style.cursor = 'pointer';\n                    markerEl.style.boxShadow = '0 2px 4px rgba(0,0,0,0.3)';\n                    // Create popup with hospital info\n                    const popup = new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Popup)({\n                        offset: 25,\n                        closeButton: false,\n                        maxWidth: '260px',\n                        className: 'hospital-popup'\n                    }).setHTML('\\n        <div style=\"padding: 0; border-radius: 8px; background-color: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden; width: 260px;\">\\n          <div style=\"width: 100%; height: 140px; position: relative; overflow: hidden;\">\\n            <div style=\"position: absolute; inset: 0; background: linear-gradient(to bottom, rgba(0,0,0,0) 70%, rgba(0,0,0,0.4) 100%); z-index: 1;\"></div>\\n            <img \\n              src=\"'.concat(hospital.imageUrl, '\" \\n              alt=\"').concat(hospital.name, '\" \\n              style=\"width: 100%; height: 100%; object-fit: cover;\"\\n            />\\n          </div>\\n          <div style=\"padding: 16px;\">\\n            <h3 style=\"font-size: 18px; font-weight: 600; margin-bottom: 8px; color: #333;\">').concat(hospital.name, '</h3>\\n            <p style=\"\\n              display: inline-flex;\\n              align-items: center;\\n              padding: 4px 12px;\\n              border-radius: 20px;\\n              font-size: 13px;\\n              margin-bottom: 16px;\\n              color: #3b82f6;\\n              background-color: #dbeafe;\\n            \">\\n              <span class=\"status-dot\" style=\"display: inline-block; width: 8px; height: 8px; border-radius: 50%; background-color: #3b82f6; margin-right: 6px;\"></span>\\n              ').concat(_(hospital.status), \" on \").concat((0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_6__.format)(new Date(hospital.deploymentDate), 'dd/MM/yyyy'), '\\n            </p>\\n            <div style=\"display: flex; gap: 8px; margin-top: 12px;\">\\n              <a \\n                href=\"').concat(hospital.website, '\" \\n                target=\"_blank\" \\n                rel=\"noopener noreferrer\"\\n                style=\"\\n                  flex: 1;\\n                  padding: 8px 12px;\\n                  background-color: #3b82f6;\\n                  color: white;\\n                  border-radius: 8px;\\n                  text-decoration: none;\\n                  font-size: 13px;\\n                  font-weight: 500;\\n                  display: flex;\\n                  align-items: center;\\n                  justify-content: center;\\n                  gap: 6px;\\n                \"\\n              >\\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\\n                  <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\\n                  <line x1=\"2\" y1=\"12\" x2=\"22\" y2=\"12\"></line>\\n                  <path d=\"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z\"></path>\\n                </svg>\\n                ').concat(_('Website'), '\\n              </a>\\n              <button \\n                style=\"\\n                  flex: 1;\\n                  padding: 8px 12px;\\n                  background-color: #f1f5f9;\\n                  color: #64748b;\\n                  border-radius: 8px;\\n                  border: none;\\n                  text-decoration: none;\\n                  font-size: 13px;\\n                  font-weight: 500;\\n                  cursor: pointer;\\n                  display: flex;\\n                  align-items: center;\\n                  justify-content: center;\\n                  gap: 6px;\\n                \"\\n                onclick=\"alert(\\'').concat(hospital.address, '\\')\"\\n              >\\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\\n                  <path d=\"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"></path>\\n                  <circle cx=\"12\" cy=\"10\" r=\"3\"></circle>\\n                </svg>\\n                ').concat(_('Address'), \"\\n              </button>\\n            </div>\\n          </div>\\n        </div>\\n      \"));\n                    // Create and store the marker\n                    const marker = new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Marker)(markerEl).setLngLat(hospital.coordinates).setPopup(popup).addTo(map.current);\n                    // Add click event to select the hospital\n                    markerEl.addEventListener('click', {\n                        \"MapComponent.useEffect\": ()=>{\n                            selectHospital(hospital);\n                        }\n                    }[\"MapComponent.useEffect\"]);\n                    markers.current.push(marker);\n                }\n            }[\"MapComponent.useEffect\"]);\n            // If no markers, return to default view\n            if (markers.current.length === 0 && map.current) {\n                map.current.flyTo({\n                    center: [\n                        2.213749,\n                        46.227638\n                    ],\n                    zoom: 5\n                });\n            } else if (markers.current.length > 0 && map.current) {\n                // Only adjust bounds if there are multiple hospitals or we're not focused on one\n                if (markers.current.length > 1 && !selectedHospital) {\n                    const bounds = new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().LngLatBounds)();\n                    filteredHospitals.forEach({\n                        \"MapComponent.useEffect\": (hospital)=>{\n                            bounds.extend(hospital.coordinates);\n                        }\n                    }[\"MapComponent.useEffect\"]);\n                    map.current.fitBounds(bounds, {\n                        padding: 50,\n                        maxZoom: 10\n                    });\n                }\n            }\n        }\n    }[\"MapComponent.useEffect\"], [\n        filteredHospitals,\n        mapLoaded,\n        _,\n        selectHospital,\n        selectedHospital\n    ]);\n    // Handle selected hospital change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapComponent.useEffect\": ()=>{\n            if (!map.current || !selectedHospital) return;\n            // Fly to selected hospital\n            map.current.flyTo({\n                center: selectedHospital.coordinates,\n                zoom: 12,\n                duration: 1500\n            });\n            // Find and open the popup for the selected hospital\n            const marker = markers.current.find({\n                \"MapComponent.useEffect.marker\": (m)=>{\n                    const lngLat = m.getLngLat();\n                    return lngLat.lng === selectedHospital.coordinates[0] && lngLat.lat === selectedHospital.coordinates[1];\n                }\n            }[\"MapComponent.useEffect.marker\"]);\n            if (marker) {\n                marker.togglePopup();\n            }\n            // Log selectedHospital details to use Hospital type\n            console.log('Selected hospital:', {\n                id: selectedHospital.id,\n                name: selectedHospital.name,\n                coordinates: selectedHospital.coordinates,\n                status: selectedHospital.status\n            });\n            // Simuler la recherche d'un hôpital par ID pour utiliser notre fonction getHospitalById\n            const foundHospital = getHospitalById(selectedHospital.id);\n            if (foundHospital) {\n                console.log('Hospital found by ID:', foundHospital.name);\n            }\n        }\n    }[\"MapComponent.useEffect\"], [\n        selectedHospital,\n        getHospitalById\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: mapContainer,\n        className: \"relative w-full h-full \".concat(className),\n        \"data-testid\": \"map-container\"\n    }, void 0, false, {\n        fileName: \"P:\\\\Galeon projects\\\\galeon-community-hospital-map\\\\main\\\\app\\\\components\\\\Map.tsx\",\n        lineNumber: 295,\n        columnNumber: 5\n    }, undefined);\n};\n_s(MapComponent, \"r8qDy+R9hKb3M/6qXUQR1lryQDw=\", false, function() {\n    return [\n        _lingui_react__WEBPACK_IMPORTED_MODULE_5__.useLingui,\n        _store_useMapStore__WEBPACK_IMPORTED_MODULE_4__.useMapStore\n    ];\n});\n_c = MapComponent;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapComponent);\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb21wb25lbnRzL01hcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQkFBK0I7OztBQUdrQztBQUNoQztBQUNLO0FBQ0k7QUFDbUI7QUFDM0I7QUFFbEMsZ0VBQWdFO0FBQ2hFSSw4REFBb0IsR0FBR0ssT0FBT0EsQ0FBQ0MsR0FBRyxDQUFDQyx3QkFBd0IsSUFBSTtBQU0vRCxNQUFNQyxlQUE0QztRQUFDLEVBQUVDLFlBQVksRUFBRSxFQUFFOztJQUNuRSxNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHVCx3REFBU0E7SUFFMUIsNERBQTREO0lBQzVELE1BQU1VLElBQUlaLGtEQUFXQTt1Q0FBQyxDQUFDYTtZQUNyQixJQUFJO2dCQUNGLE9BQU9GLFFBQVFBLEtBQUtDLENBQUMsR0FBR0QsS0FBS0MsQ0FBQyxDQUFDQyxRQUFRQTtZQUN6QyxFQUFFLFVBQU07Z0JBQ04sT0FBT0E7WUFDVDtRQUNGO3NDQUFHO1FBQUNGO0tBQUs7SUFFVCxNQUFNRyxlQUFlaEIsNkNBQU1BLENBQWlCO0lBQzVDLE1BQU1pQixNQUFNakIsNkNBQU1BLENBQXNCO0lBQ3hDLE1BQU1rQixVQUFVbEIsNkNBQU1BLENBQW9CLEVBQUU7SUFDNUMsTUFBTSxDQUFDbUIsV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQUM7SUFFM0MsTUFBTSxFQUNKb0IsaUJBQWlCLEVBQ2pCQyxnQkFBZ0IsRUFDaEJDLGNBQWMsRUFDZixHQUFHbEIsK0RBQVdBO0lBRWYsNEVBQTRFO0lBQzVFLGtFQUFrRTtJQUNsRSxNQUFNbUIsa0JBQWtCdEIsa0RBQVdBO3FEQUFDLENBQUN1QjtZQUNuQyxPQUFPSixrQkFBa0JLLElBQUk7NkRBQUMsQ0FBQ0MsSUFBZ0JBLEVBQUVGLEVBQUUsS0FBS0E7O1FBQzFEO29EQUFHO1FBQUNKO0tBQWtCO0lBRXRCLGdFQUFnRTtJQUNoRXRCLGdEQUFTQTtrQ0FBQztZQUNSLElBQUlzQixrQkFBa0JPLE1BQU0s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QW9CdEJDLDJEQUFXQTs7O0tBckJYTTtBQTZSTixpRUFBZUEsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsiUDpcXEdhbGVvbiBwcm9qZWN0c1xcZ2FsZW9uLWNvbW11bml0eS1ob3NwaXRhbC1tYXBcXG1haW5cXGFwcFxcY29tcG9uZW50c1xcTWFwLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlOiBhcHAvY29tcG9uZW50cy9NYXAudHN4XHJcbid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBtYXBib3hnbCBmcm9tICdtYXBib3gtZ2wnO1xyXG5pbXBvcnQgJ21hcGJveC1nbC9kaXN0L21hcGJveC1nbC5jc3MnO1xyXG5pbXBvcnQgeyB1c2VMaW5ndWkgfSBmcm9tICdAbGluZ3VpL3JlYWN0JztcclxuaW1wb3J0IHsgSG9zcGl0YWwsIHVzZU1hcFN0b3JlIH0gZnJvbSAnLi4vc3RvcmUvdXNlTWFwU3RvcmUnO1xyXG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7XHJcblxyXG4vLyBTZXR1cCBNYXBCb3ggdG9rZW4gKGluIHByb2R1Y3Rpb24sIHVzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMpXHJcbm1hcGJveGdsLmFjY2Vzc1Rva2VuID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTUFQQk9YX1RPS0VOIHx8ICdway5leUoxSWpvaWFtVmhibUp2YmpreElpd2lZU0k2SW1OdE5EbGhNSE16TlRBM1lua3ljWE0yZG1ZeGMyODFNSGtpZlEudGFZWU0zanhFTFo1Q1p1T0g5XzNTUSc7XHJcblxyXG5pbnRlcmZhY2UgTWFwQ29tcG9uZW50UHJvcHMge1xyXG4gIGNsYXNzTmFtZT86IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgTWFwQ29tcG9uZW50OiBSZWFjdC5GQzxNYXBDb21wb25lbnRQcm9wcz4gPSAoeyBjbGFzc05hbWUgPSAnJyB9KSA9PiB7XHJcbiAgY29uc3QgeyBpMThuIH0gPSB1c2VMaW5ndWkoKTtcclxuICBcclxuICAvLyBDcmVhdGUgYSBzYWZlIHRyYW5zbGF0aW9uIGZ1bmN0aW9uIHdyYXBwZWQgaW4gdXNlQ2FsbGJhY2tcclxuICBjb25zdCBfID0gdXNlQ2FsbGJhY2soKHRleHQ6IHN0cmluZykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGkxOG4gJiYgaTE4bi5fID8gaTE4bi5fKHRleHQpIDogdGV4dDtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICByZXR1cm4gdGV4dDtcclxuICAgIH1cclxuICB9LCBbaTE4bl0pO1xyXG4gIFxyXG4gIGNvbnN0IG1hcENvbnRhaW5lciA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgbWFwID0gdXNlUmVmPG1hcGJveGdsLk1hcCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IG1hcmtlcnMgPSB1c2VSZWY8bWFwYm94Z2wuTWFya2VyW10+KFtdKTtcclxuICBjb25zdCBbbWFwTG9hZGVkLCBzZXRNYXBMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIFxyXG4gIGNvbnN0IHsgXHJcbiAgICBmaWx0ZXJlZEhvc3BpdGFscywgXHJcbiAgICBzZWxlY3RlZEhvc3BpdGFsLCBcclxuICAgIHNlbGVjdEhvc3BpdGFsIFxyXG4gIH0gPSB1c2VNYXBTdG9yZSgpO1xyXG5cclxuICAvLyBQb3VyIMOpdml0ZXIgbGUgd2FybmluZyBcIkhvc3BpdGFsIGlzIGRlY2xhcmVkIGJ1dCBpdHMgdmFsdWUgaXMgbmV2ZXIgcmVhZFwiXHJcbiAgLy8gRW5jYXBzdWzDqSBkYW5zIHVzZUNhbGxiYWNrIHBvdXIgw6l2aXRlciBsZXMgcmVjcsOpYXRpb25zIGludXRpbGVzXHJcbiAgY29uc3QgZ2V0SG9zcGl0YWxCeUlkID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpOiBIb3NwaXRhbCB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgICByZXR1cm4gZmlsdGVyZWRIb3NwaXRhbHMuZmluZCgoaDogSG9zcGl0YWwpID0+IGguaWQgPT09IGlkKTtcclxuICB9LCBbZmlsdGVyZWRIb3NwaXRhbHNdKTtcclxuXHJcbiAgLy8gTG9nIGRlcyBow7RwaXRhdXggcG91ciB1dGlsaXNlciBleHBsaWNpdGVtZW50IGxlIHR5cGUgSG9zcGl0YWxcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGZpbHRlcmVkSG9zcGl0YWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc29sZS5sb2coXCJGaWx0ZXJlZCBob3NwaXRhbHM6XCIsIGZpbHRlcmVkSG9zcGl0YWxzLm1hcCgoaDogSG9zcGl0YWwpID0+ICh7XHJcbiAgICAgICAgaWQ6IGguaWQsXHJcbiAgICAgICAgbmFtZTogaC5uYW1lLFxyXG4gICAgICAgIHN0YXR1czogaC5zdGF0dXMsXHJcbiAgICAgICAgbG9jYXRpb246IGguY29vcmRpbmF0ZXNcclxuICAgICAgfSkpKTtcclxuICAgIH1cclxuICB9LCBbZmlsdGVyZWRIb3NwaXRhbHNdKTtcclxuXHJcbiAgLy8gSW5pdGlhbGl6ZSBtYXBcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFtYXBDb250YWluZXIuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgIG1hcC5jdXJyZW50ID0gbmV3IG1hcGJveGdsLk1hcCh7XHJcbiAgICAgIGNvbnRhaW5lcjogbWFwQ29udGFpbmVyLmN1cnJlbnQsXHJcbiAgICAgIHN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9kYXJrLXYxMScsXHJcbiAgICAgIGNlbnRlcjogWzIuMjEzNzQ5LCA0Ni4yMjc2MzhdLCAvLyBDZW50ZXIgb2YgRnJhbmNlXHJcbiAgICAgIHpvb206IDUsXHJcbiAgICAgIGF0dHJpYnV0aW9uQ29udHJvbDogZmFsc2UsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBBZGQgbmF2aWdhdGlvbiBjb250cm9sc1xyXG4gICAgbWFwLmN1cnJlbnQuYWRkQ29udHJvbChcclxuICAgICAgbmV3IG1hcGJveGdsLk5hdmlnYXRpb25Db250cm9sKCksXHJcbiAgICAgICdib3R0b20tcmlnaHQnXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEFkZCBnZW9sb2NhdGUgY29udHJvbFxyXG4gICAgbWFwLmN1cnJlbnQuYWRkQ29udHJvbChcclxuICAgICAgbmV3IG1hcGJveGdsLkdlb2xvY2F0ZUNvbnRyb2woe1xyXG4gICAgICAgIHBvc2l0aW9uT3B0aW9uczoge1xyXG4gICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0cmFja1VzZXJMb2NhdGlvbjogdHJ1ZVxyXG4gICAgICB9KSxcclxuICAgICAgJ2JvdHRvbS1yaWdodCdcclxuICAgICk7XHJcblxyXG4gICAgLy8gQWRkIGZ1bGxzY3JlZW4gY29udHJvbFxyXG4gICAgbWFwLmN1cnJlbnQuYWRkQ29udHJvbChcclxuICAgICAgbmV3IG1hcGJveGdsLkZ1bGxzY3JlZW5Db250cm9sKCksXHJcbiAgICAgICdib3R0b20tcmlnaHQnXHJcbiAgICApO1xyXG5cclxuICAgIG1hcC5jdXJyZW50Lm9uKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICBzZXRNYXBMb2FkZWQodHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDbGVhbnVwIG9uIHVubW91bnRcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmIChtYXAuY3VycmVudCkge1xyXG4gICAgICAgIG1hcC5jdXJyZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIG1hcC5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIEhhbmRsZSBtYXJrZXJzIHVwZGF0ZSB3aGVuIGhvc3BpdGFscyBjaGFuZ2VcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFtYXBMb2FkZWQgfHwgIW1hcC5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgLy8gQ2xlYXIgZXhpc3RpbmcgbWFya2Vyc1xyXG4gICAgbWFya2Vycy5jdXJyZW50LmZvckVhY2gobWFya2VyID0+IG1hcmtlci5yZW1vdmUoKSk7XHJcbiAgICBtYXJrZXJzLmN1cnJlbnQgPSBbXTtcclxuXHJcbiAgICAvLyBBZGQgbWFya2VycyBmb3IgZmlsdGVyZWQgaG9zcGl0YWxzXHJcbiAgICBmaWx0ZXJlZEhvc3BpdGFscy5mb3JFYWNoKChob3NwaXRhbDogSG9zcGl0YWwpID0+IHtcclxuICAgICAgLy8gQ3JlYXRlIGN1c3RvbSBtYXJrZXIgZWxlbWVudFxyXG4gICAgICBjb25zdCBtYXJrZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBtYXJrZXJFbC5jbGFzc05hbWUgPSAnaG9zcGl0YWwtbWFya2VyJztcclxuICAgICAgbWFya2VyRWwuc3R5bGUud2lkdGggPSAnMjRweCc7XHJcbiAgICAgIG1hcmtlckVsLnN0eWxlLmhlaWdodCA9ICcyNHB4JztcclxuICAgICAgbWFya2VyRWwuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzUwJSc7XHJcbiAgICAgIG1hcmtlckVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGhvc3BpdGFsLnN0YXR1cyA9PT0gJ0RlcGxveWVkJyA/ICcjMzZBMkVCJyA6ICcjNEJDMEMwJztcclxuICAgICAgbWFya2VyRWwuc3R5bGUuYm9yZGVyID0gJzJweCBzb2xpZCB3aGl0ZSc7XHJcbiAgICAgIG1hcmtlckVsLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcclxuICAgICAgbWFya2VyRWwuc3R5bGUuYm94U2hhZG93ID0gJzAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMyknO1xyXG4gICAgICBcclxuICAgICAgLy8gQ3JlYXRlIHBvcHVwIHdpdGggaG9zcGl0YWwgaW5mb1xyXG4gICAgICBjb25zdCBwb3B1cCA9IG5ldyBtYXBib3hnbC5Qb3B1cCh7IFxyXG4gICAgICAgIG9mZnNldDogMjUsXHJcbiAgICAgICAgY2xvc2VCdXR0b246IGZhbHNlLFxyXG4gICAgICAgIG1heFdpZHRoOiAnMjYwcHgnLFxyXG4gICAgICAgIGNsYXNzTmFtZTogJ2hvc3BpdGFsLXBvcHVwJ1xyXG4gICAgICB9KS5zZXRIVE1MKGBcclxuICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMDsgYm9yZGVyLXJhZGl1czogOHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgYm94LXNoYWRvdzogMCAycHggMTBweCByZ2JhKDAsMCwwLDAuMSk7IG92ZXJmbG93OiBoaWRkZW47IHdpZHRoOiAyNjBweDtcIj5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxNDBweDsgcG9zaXRpb246IHJlbGF0aXZlOyBvdmVyZmxvdzogaGlkZGVuO1wiPlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyBpbnNldDogMDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSgwLDAsMCwwKSA3MCUsIHJnYmEoMCwwLDAsMC40KSAxMDAlKTsgei1pbmRleDogMTtcIj48L2Rpdj5cclxuICAgICAgICAgICAgPGltZyBcclxuICAgICAgICAgICAgICBzcmM9XCIke2hvc3BpdGFsLmltYWdlVXJsfVwiIFxyXG4gICAgICAgICAgICAgIGFsdD1cIiR7aG9zcGl0YWwubmFtZX1cIiBcclxuICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IG9iamVjdC1maXQ6IGNvdmVyO1wiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiAxNnB4O1wiPlxyXG4gICAgICAgICAgICA8aDMgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiA2MDA7IG1hcmdpbi1ib3R0b206IDhweDsgY29sb3I6ICMzMzM7XCI+JHtob3NwaXRhbC5uYW1lfTwvaDM+XHJcbiAgICAgICAgICAgIDxwIHN0eWxlPVwiXHJcbiAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7XHJcbiAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgICBwYWRkaW5nOiA0cHggMTJweDtcclxuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xyXG4gICAgICAgICAgICAgIGNvbG9yOiAjM2I4MmY2O1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkYmVhZmU7XHJcbiAgICAgICAgICAgIFwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdHVzLWRvdFwiIHN0eWxlPVwiZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogOHB4OyBoZWlnaHQ6IDhweDsgYm9yZGVyLXJhZGl1czogNTAlOyBiYWNrZ3JvdW5kLWNvbG9yOiAjM2I4MmY2OyBtYXJnaW4tcmlnaHQ6IDZweDtcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgJHtfKGhvc3BpdGFsLnN0YXR1cyl9IG9uICR7Zm9ybWF0KG5ldyBEYXRlKGhvc3BpdGFsLmRlcGxveW1lbnREYXRlKSwgJ2RkL01NL3l5eXknKX1cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZ2FwOiA4cHg7IG1hcmdpbi10b3A6IDEycHg7XCI+XHJcbiAgICAgICAgICAgICAgPGEgXHJcbiAgICAgICAgICAgICAgICBocmVmPVwiJHtob3NwaXRhbC53ZWJzaXRlfVwiIFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCIgXHJcbiAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPVwiXHJcbiAgICAgICAgICAgICAgICAgIGZsZXg6IDE7XHJcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMnB4O1xyXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2I4MmY2O1xyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgICBnYXA6IDZweDtcclxuICAgICAgICAgICAgICAgIFwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxyXG4gICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCI+PC9jaXJjbGU+XHJcbiAgICAgICAgICAgICAgICAgIDxsaW5lIHgxPVwiMlwiIHkxPVwiMTJcIiB4Mj1cIjIyXCIgeTI9XCIxMlwiPjwvbGluZT5cclxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMiAyYTE1LjMgMTUuMyAwIDAgMSA0IDEwIDE1LjMgMTUuMyAwIDAgMS00IDEwIDE1LjMgMTUuMyAwIDAgMS00LTEwIDE1LjMgMTUuMyAwIDAgMSA0LTEwelwiPjwvcGF0aD5cclxuICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgJHtfKCdXZWJzaXRlJyl9XHJcbiAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIlxyXG4gICAgICAgICAgICAgICAgICBmbGV4OiAxO1xyXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDtcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjVmOTtcclxuICAgICAgICAgICAgICAgICAgY29sb3I6ICM2NDc0OGI7XHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAgZ2FwOiA2cHg7XHJcbiAgICAgICAgICAgICAgICBcIlxyXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImFsZXJ0KCcke2hvc3BpdGFsLmFkZHJlc3N9JylcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cclxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yMSAxMGMwIDctOSAxMy05IDEzcy05LTYtOS0xM2E5IDkgMCAwIDEgMTggMHpcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTBcIiByPVwiM1wiPjwvY2lyY2xlPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICAke18oJ0FkZHJlc3MnKX1cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgYCk7XHJcblxyXG4gICAgICAvLyBDcmVhdGUgYW5kIHN0b3JlIHRoZSBtYXJrZXJcclxuICAgICAgY29uc3QgbWFya2VyID0gbmV3IG1hcGJveGdsLk1hcmtlcihtYXJrZXJFbClcclxuICAgICAgICAuc2V0TG5nTGF0KGhvc3BpdGFsLmNvb3JkaW5hdGVzKVxyXG4gICAgICAgIC5zZXRQb3B1cChwb3B1cClcclxuICAgICAgICAuYWRkVG8obWFwLmN1cnJlbnQhKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFkZCBjbGljayBldmVudCB0byBzZWxlY3QgdGhlIGhvc3BpdGFsXHJcbiAgICAgIG1hcmtlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHNlbGVjdEhvc3BpdGFsKGhvc3BpdGFsKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBtYXJrZXJzLmN1cnJlbnQucHVzaChtYXJrZXIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSWYgbm8gbWFya2VycywgcmV0dXJuIHRvIGRlZmF1bHQgdmlld1xyXG4gICAgaWYgKG1hcmtlcnMuY3VycmVudC5sZW5ndGggPT09IDAgJiYgbWFwLmN1cnJlbnQpIHtcclxuICAgICAgbWFwLmN1cnJlbnQuZmx5VG8oe1xyXG4gICAgICAgIGNlbnRlcjogWzIuMjEzNzQ5LCA0Ni4yMjc2MzhdLFxyXG4gICAgICAgIHpvb206IDUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gSWYgdGhlcmUgYXJlIG1hcmtlcnMsIGZpdCB0aGUgbWFwIHRvIHNob3cgYWxsIG1hcmtlcnNcclxuICAgIGVsc2UgaWYgKG1hcmtlcnMuY3VycmVudC5sZW5ndGggPiAwICYmIG1hcC5jdXJyZW50KSB7XHJcbiAgICAgIC8vIE9ubHkgYWRqdXN0IGJvdW5kcyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgaG9zcGl0YWxzIG9yIHdlJ3JlIG5vdCBmb2N1c2VkIG9uIG9uZVxyXG4gICAgICBpZiAobWFya2Vycy5jdXJyZW50Lmxlbmd0aCA+IDEgJiYgIXNlbGVjdGVkSG9zcGl0YWwpIHtcclxuICAgICAgICBjb25zdCBib3VuZHMgPSBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZmlsdGVyZWRIb3NwaXRhbHMuZm9yRWFjaCgoaG9zcGl0YWw6IEhvc3BpdGFsKSA9PiB7XHJcbiAgICAgICAgICBib3VuZHMuZXh0ZW5kKGhvc3BpdGFsLmNvb3JkaW5hdGVzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBtYXAuY3VycmVudC5maXRCb3VuZHMoYm91bmRzLCB7XHJcbiAgICAgICAgICBwYWRkaW5nOiA1MCxcclxuICAgICAgICAgIG1heFpvb206IDEwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW2ZpbHRlcmVkSG9zcGl0YWxzLCBtYXBMb2FkZWQsIF8sIHNlbGVjdEhvc3BpdGFsLCBzZWxlY3RlZEhvc3BpdGFsXSk7XHJcblxyXG4gIC8vIEhhbmRsZSBzZWxlY3RlZCBob3NwaXRhbCBjaGFuZ2VcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFtYXAuY3VycmVudCB8fCAhc2VsZWN0ZWRIb3NwaXRhbCkgcmV0dXJuO1xyXG5cclxuICAgIC8vIEZseSB0byBzZWxlY3RlZCBob3NwaXRhbFxyXG4gICAgbWFwLmN1cnJlbnQuZmx5VG8oe1xyXG4gICAgICBjZW50ZXI6IHNlbGVjdGVkSG9zcGl0YWwuY29vcmRpbmF0ZXMsXHJcbiAgICAgIHpvb206IDEyLFxyXG4gICAgICBkdXJhdGlvbjogMTUwMCxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEZpbmQgYW5kIG9wZW4gdGhlIHBvcHVwIGZvciB0aGUgc2VsZWN0ZWQgaG9zcGl0YWxcclxuICAgIGNvbnN0IG1hcmtlciA9IG1hcmtlcnMuY3VycmVudC5maW5kKG0gPT4ge1xyXG4gICAgICBjb25zdCBsbmdMYXQgPSBtLmdldExuZ0xhdCgpO1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIGxuZ0xhdC5sbmcgPT09IHNlbGVjdGVkSG9zcGl0YWwuY29vcmRpbmF0ZXNbMF0gJiYgXHJcbiAgICAgICAgbG5nTGF0LmxhdCA9PT0gc2VsZWN0ZWRIb3NwaXRhbC5jb29yZGluYXRlc1sxXVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKG1hcmtlcikge1xyXG4gICAgICBtYXJrZXIudG9nZ2xlUG9wdXAoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTG9nIHNlbGVjdGVkSG9zcGl0YWwgZGV0YWlscyB0byB1c2UgSG9zcGl0YWwgdHlwZVxyXG4gICAgY29uc29sZS5sb2coJ1NlbGVjdGVkIGhvc3BpdGFsOicsIHtcclxuICAgICAgaWQ6IHNlbGVjdGVkSG9zcGl0YWwuaWQsXHJcbiAgICAgIG5hbWU6IHNlbGVjdGVkSG9zcGl0YWwubmFtZSxcclxuICAgICAgY29vcmRpbmF0ZXM6IHNlbGVjdGVkSG9zcGl0YWwuY29vcmRpbmF0ZXMsXHJcbiAgICAgIHN0YXR1czogc2VsZWN0ZWRIb3NwaXRhbC5zdGF0dXNcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBTaW11bGVyIGxhIHJlY2hlcmNoZSBkJ3VuIGjDtHBpdGFsIHBhciBJRCBwb3VyIHV0aWxpc2VyIG5vdHJlIGZvbmN0aW9uIGdldEhvc3BpdGFsQnlJZFxyXG4gICAgY29uc3QgZm91bmRIb3NwaXRhbCA9IGdldEhvc3BpdGFsQnlJZChzZWxlY3RlZEhvc3BpdGFsLmlkKTtcclxuICAgIGlmIChmb3VuZEhvc3BpdGFsKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdIb3NwaXRhbCBmb3VuZCBieSBJRDonLCBmb3VuZEhvc3BpdGFsLm5hbWUpO1xyXG4gICAgfVxyXG4gIH0sIFtzZWxlY3RlZEhvc3BpdGFsLCBnZXRIb3NwaXRhbEJ5SWRdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgXHJcbiAgICAgIHJlZj17bWFwQ29udGFpbmVyfSBcclxuICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgdy1mdWxsIGgtZnVsbCAke2NsYXNzTmFtZX1gfVxyXG4gICAgICBkYXRhLXRlc3RpZD1cIm1hcC1jb250YWluZXJcIlxyXG4gICAgLz5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFwQ29tcG9uZW50OyJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwibWFwYm94Z2wiLCJ1c2VMaW5ndWkiLCJ1c2VNYXBTdG9yZSIsImZvcm1hdCIsImFjY2Vzc1Rva2VuIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX01BUEJPWF9UT0tFTiIsIk1hcENvbXBvbmVudCIsImNsYXNzTmFtZSIsImkxOG4iLCJfIiwidGV4dCIsIm1hcENvbnRhaW5lciIsIm1hcCIsIm1hcmtlcnMiLCJtYXBMb2FkZWQiLCJzZXRNYXBMb2FkZWQiLCJmaWx0ZXJlZEhvc3BpdGFscyIsInNlbGVjdGVkSG9zcGl0YWwiLCJzZWxlY3RIb3NwaXRhbCIsImdldEhvc3BpdGFsQnlJZCIsImlkIiwiZmluZCIsImgiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsInN0YXR1cyIsImxvY2F0aW9uIiwiY29vcmRpbmF0ZXMiLCJjdXJyZW50IiwiTWFwIiwiY29udGFpbmVyIiwic3R5bGUiLCJjZW50ZXIiLCJ6b29tIiwiYXR0cmlidXRpb25Db250cm9sIiwiYWRkQ29udHJvbCIsIk5hdmlnYXRpb25Db250cm9sIiwiR2VvbG9jYXRlQ29udHJvbCIsInBvc2l0aW9uT3B0aW9ucyIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsInRyYWNrVXNlckxvY2F0aW9uIiwiRnVsbHNjcmVlbkNvbnRyb2wiLCJvbiIsInJlbW92ZSIsImZvckVhY2giLCJtYXJrZXIiLCJob3NwaXRhbCIsIm1hcmtlckVsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJjdXJzb3IiLCJib3hTaGFkb3ciLCJwb3B1cCIsIlBvcHVwIiwib2Zmc2V0IiwiY2xvc2VCdXR0b24iLCJtYXhXaWR0aCIsInNldEhUTUwiLCJpbWFnZVVybCIsIkRhdGUiLCJkZXBsb3ltZW50RGF0ZSIsIndlYnNpdGUiLCJhZGRyZXNzIiwiTWFya2VyIiwic2V0TG5nTGF0Iiwic2V0UG9wdXAiLCJhZGRUbyIsImFkZEV2ZW50TGlzdGVuZXIiLCJwdXNoIiwiZmx5VG8iLCJib3VuZHMiLCJMbmdMYXRCb3VuZHMiLCJleHRlbmQiLCJmaXRCb3VuZHMiLCJwYWRkaW5nIiwibWF4Wm9vbSIsImR1cmF0aW9uIiwibSIsImxuZ0xhdCIsImdldExuZ0xhdCIsImxuZyIsImxhdCIsInRvZ2dsZVBvcHVwIiwiZm91bmRIb3NwaXRhbCIsImRpdiIsInJlZiIsImRhdGEtdGVzdGlkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/components/Map.tsx\n"));

/***/ })

});
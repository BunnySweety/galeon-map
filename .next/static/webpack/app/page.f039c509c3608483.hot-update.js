"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/components/Map.tsx":
/*!********************************!*\
  !*** ./app/components/Map.tsx ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mapbox-gl */ \"(app-pages-browser)/./node_modules/mapbox-gl/dist/mapbox-gl.js\");\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mapbox-gl/dist/mapbox-gl.css */ \"(app-pages-browser)/./node_modules/mapbox-gl/dist/mapbox-gl.css\");\n/* harmony import */ var _lingui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lingui/react */ \"(app-pages-browser)/./node_modules/@lingui/react/dist/index.mjs\");\n/* harmony import */ var _store_useMapStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store/useMapStore */ \"(app-pages-browser)/./app/store/useMapStore.ts\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(app-pages-browser)/./node_modules/date-fns/format.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n// File: app/components/Map.tsx\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Setup MapBox token (in production, use environment variables)\n(mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().accessToken) = process.env.NEXT_PUBLIC_MAPBOX_TOKEN || 'pk.eyJ1IjoiamVhbmJvbjkxIiwiYSI6ImNtNDlhMHMzNTA3YnkycXM2dmYxc281MHkifQ.taYYM3jxELZ5CZuOH9_3SQ';\nconst MapComponent = (param)=>{\n    let { className = '' } = param;\n    _s();\n    const { i18n } = (0,_lingui_react__WEBPACK_IMPORTED_MODULE_5__.useLingui)();\n    // Create a safe translation function wrapped in useCallback\n    const _ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MapComponent.useCallback[_]\": (text)=>{\n            try {\n                return i18n && i18n._ ? i18n._(text) : text;\n            } catch (e) {\n                return text;\n            }\n        }\n    }[\"MapComponent.useCallback[_]\"], [\n        i18n\n    ]);\n    const mapContainer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const map = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const markers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const [mapLoaded, setMapLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { filteredHospitals, selectedHospital, selectHospital } = (0,_store_useMapStore__WEBPACK_IMPORTED_MODULE_4__.useMapStore)();\n    // Pour éviter le warning \"Hospital is declared but its value is never read\"\n    // Encapsulé dans useCallback pour éviter les recréations inutiles\n    const getHospitalById = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"MapComponent.useCallback[getHospitalById]\": (id)=>{\n            return filteredHospitals.find({\n                \"MapComponent.useCallback[getHospitalById]\": (h)=>h.id === id\n            }[\"MapComponent.useCallback[getHospitalById]\"]);\n        }\n    }[\"MapComponent.useCallback[getHospitalById]\"], [\n        filteredHospitals\n    ]);\n    // Log des hôpitaux pour utiliser explicitement le type Hospital\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapComponent.useEffect\": ()=>{\n            if (filteredHospitals.length > 0) {\n                console.log(\"Filtered hospitals:\", filteredHospitals.map({\n                    \"MapComponent.useEffect\": (h)=>({\n                            id: h.id,\n                            name: h.name,\n                            status: h.status,\n                            location: h.coordinates\n                        })\n                }[\"MapComponent.useEffect\"]));\n            }\n        }\n    }[\"MapComponent.useEffect\"], [\n        filteredHospitals\n    ]);\n    // Initialize map\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapComponent.useEffect\": ()=>{\n            if (!mapContainer.current) return;\n            map.current = new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Map)({\n                container: mapContainer.current,\n                style: 'mapbox://styles/mapbox/dark-v11',\n                center: [\n                    2.213749,\n                    46.227638\n                ],\n                zoom: 5,\n                attributionControl: false\n            });\n            // Add navigation controls\n            map.current.addControl(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().NavigationControl)(), 'bottom-right');\n            // Add geolocate control\n            map.current.addControl(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().GeolocateControl)({\n                positionOptions: {\n                    enableHighAccuracy: true\n                },\n                trackUserLocation: true\n            }), 'bottom-right');\n            // Add fullscreen control\n            map.current.addControl(new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().FullscreenControl)(), 'bottom-right');\n            map.current.on('load', {\n                \"MapComponent.useEffect\": ()=>{\n                    setMapLoaded(true);\n                }\n            }[\"MapComponent.useEffect\"]);\n            // Cleanup on unmount\n            return ({\n                \"MapComponent.useEffect\": ()=>{\n                    if (map.current) {\n                        map.current.remove();\n                        map.current = null;\n                    }\n                }\n            })[\"MapComponent.useEffect\"];\n        }\n    }[\"MapComponent.useEffect\"], []);\n    // Handle markers update when hospitals change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapComponent.useEffect\": ()=>{\n            if (!mapLoaded || !map.current) return;\n            // Clear existing markers\n            markers.current.forEach({\n                \"MapComponent.useEffect\": (marker)=>marker.remove()\n            }[\"MapComponent.useEffect\"]);\n            markers.current = [];\n            // Add markers for filtered hospitals\n            filteredHospitals.forEach({\n                \"MapComponent.useEffect\": (hospital)=>{\n                    // Create custom marker element\n                    const markerEl = document.createElement('div');\n                    markerEl.className = 'hospital-marker';\n                    markerEl.style.width = '24px';\n                    markerEl.style.height = '24px';\n                    markerEl.style.borderRadius = '50%';\n                    markerEl.style.backgroundColor = hospital.status === 'Deployed' ? '#36A2EB' : '#4BC0C0';\n                    markerEl.style.border = '2px solid white';\n                    markerEl.style.cursor = 'pointer';\n                    markerEl.style.boxShadow = '0 2px 4px rgba(0,0,0,0.3)';\n                    // Create popup with hospital info\n                    const popup = new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Popup)({\n                        offset: 25,\n                        closeButton: false,\n                        maxWidth: '300px',\n                        className: 'hospital-popup'\n                    }).setHTML('\\n        <div style=\"padding: 0; border-radius: 8px; background-color: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden;\">\\n          <div style=\"width: 100%; height: 140px; position: relative; overflow: hidden;\">\\n            <img \\n              src=\"'.concat(hospital.imageUrl, '\" \\n              alt=\"').concat(hospital.name, '\" \\n              style=\"width: 100%; height: 100%; object-fit: cover;\"\\n            />\\n          </div>\\n          <div style=\"padding: 16px;\">\\n            <h3 style=\"font-size: 18px; font-weight: 600; margin-bottom: 8px; color: #333;\">').concat(hospital.name, '</h3>\\n            <p style=\"\\n              display: inline-flex;\\n              align-items: center;\\n              padding: 4px 12px;\\n              border-radius: 20px;\\n              font-size: 13px;\\n              margin-bottom: 16px;\\n              color: #3b82f6;\\n              background-color: #dbeafe;\\n            \">\\n              <span style=\"display: inline-block; width: 8px; height: 8px; border-radius: 50%; background-color: #3b82f6; margin-right: 6px;\"></span>\\n              ').concat(_(hospital.status), \" on \").concat((0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_6__.format)(new Date(hospital.deploymentDate), 'dd/MM/yyyy'), '\\n            </p>\\n            <div style=\"display: flex; gap: 8px; margin-top: 12px;\">\\n              <a \\n                href=\"').concat(hospital.website, '\" \\n                target=\"_blank\" \\n                rel=\"noopener noreferrer\"\\n                style=\"\\n                  flex: 1;\\n                  padding: 8px 12px;\\n                  background-color: #3b82f6;\\n                  color: white;\\n                  border-radius: 4px;\\n                  text-decoration: none;\\n                  font-size: 13px;\\n                  font-weight: 500;\\n                  display: flex;\\n                  align-items: center;\\n                  justify-content: center;\\n                \"\\n              >\\n                ').concat(_('Website'), '\\n              </a>\\n              <button \\n                style=\"\\n                  flex: 1;\\n                  padding: 8px 12px;\\n                  background-color: #f1f5f9;\\n                  color: #64748b;\\n                  border-radius: 4px;\\n                  border: none;\\n                  text-decoration: none;\\n                  font-size: 13px;\\n                  font-weight: 500;\\n                  cursor: pointer;\\n                  display: flex;\\n                  align-items: center;\\n                  justify-content: center;\\n                \"\\n                onclick=\"alert(\\'').concat(hospital.address, \"')\\\"\\n              >\\n                \").concat(_('Address'), \"\\n              </button>\\n            </div>\\n          </div>\\n        </div>\\n      \"));\n                    // Create and store the marker\n                    const marker = new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().Marker)(markerEl).setLngLat(hospital.coordinates).setPopup(popup).addTo(map.current);\n                    // Add click event to select the hospital\n                    markerEl.addEventListener('click', {\n                        \"MapComponent.useEffect\": ()=>{\n                            selectHospital(hospital);\n                        }\n                    }[\"MapComponent.useEffect\"]);\n                    markers.current.push(marker);\n                }\n            }[\"MapComponent.useEffect\"]);\n            // If no markers, return to default view\n            if (markers.current.length === 0 && map.current) {\n                map.current.flyTo({\n                    center: [\n                        2.213749,\n                        46.227638\n                    ],\n                    zoom: 5\n                });\n            } else if (markers.current.length > 0 && map.current) {\n                // Only adjust bounds if there are multiple hospitals or we're not focused on one\n                if (markers.current.length > 1 && !selectedHospital) {\n                    const bounds = new (mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default().LngLatBounds)();\n                    filteredHospitals.forEach({\n                        \"MapComponent.useEffect\": (hospital)=>{\n                            bounds.extend(hospital.coordinates);\n                        }\n                    }[\"MapComponent.useEffect\"]);\n                    map.current.fitBounds(bounds, {\n                        padding: 50,\n                        maxZoom: 10\n                    });\n                }\n            }\n        }\n    }[\"MapComponent.useEffect\"], [\n        filteredHospitals,\n        mapLoaded,\n        _,\n        selectHospital,\n        selectedHospital\n    ]);\n    // Handle selected hospital change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MapComponent.useEffect\": ()=>{\n            if (!map.current || !selectedHospital) return;\n            // Fly to selected hospital\n            map.current.flyTo({\n                center: selectedHospital.coordinates,\n                zoom: 12,\n                duration: 1500\n            });\n            // Find and open the popup for the selected hospital\n            const marker = markers.current.find({\n                \"MapComponent.useEffect.marker\": (m)=>{\n                    const lngLat = m.getLngLat();\n                    return lngLat.lng === selectedHospital.coordinates[0] && lngLat.lat === selectedHospital.coordinates[1];\n                }\n            }[\"MapComponent.useEffect.marker\"]);\n            if (marker) {\n                marker.togglePopup();\n            }\n            // Log selectedHospital details to use Hospital type\n            console.log('Selected hospital:', {\n                id: selectedHospital.id,\n                name: selectedHospital.name,\n                coordinates: selectedHospital.coordinates,\n                status: selectedHospital.status\n            });\n            // Simuler la recherche d'un hôpital par ID pour utiliser notre fonction getHospitalById\n            const foundHospital = getHospitalById(selectedHospital.id);\n            if (foundHospital) {\n                console.log('Hospital found by ID:', foundHospital.name);\n            }\n        }\n    }[\"MapComponent.useEffect\"], [\n        selectedHospital,\n        getHospitalById\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: mapContainer,\n        className: \"relative w-full h-full \".concat(className),\n        \"data-testid\": \"map-container\"\n    }, void 0, false, {\n        fileName: \"P:\\\\Galeon projects\\\\galeon-community-hospital-map\\\\main\\\\app\\\\components\\\\Map.tsx\",\n        lineNumber: 283,\n        columnNumber: 5\n    }, undefined);\n};\n_s(MapComponent, \"r8qDy+R9hKb3M/6qXUQR1lryQDw=\", false, function() {\n    return [\n        _lingui_react__WEBPACK_IMPORTED_MODULE_5__.useLingui,\n        _store_useMapStore__WEBPACK_IMPORTED_MODULE_4__.useMapStore\n    ];\n});\n_c = MapComponent;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapComponent);\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb21wb25lbnRzL01hcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQkFBK0I7OztBQUdrQztBQUNoQztBQUNLO0FBQ0k7QUFDbUI7QUFDM0I7QUFFbEMsZ0VBQWdFO0FBQ2hFSSw4REFBb0IsR0FBR0ssT0FBT0EsQ0FBQ0MsR0FBRyxDQUFDQyx3QkFBd0IsSUFBSTtBQU0vRCxNQUFNQyxlQUE0QztRQUFDLEVBQUVDLFlBQVksRUFBRSxFQUFFOztJQUNuRSxNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHVCx3REFBU0E7SUFFMUIsNERBQTREO0lBQzVELE1BQU1VLElBQUlaLGtEQUFXQTt1Q0FBQyxDQUFDYTtZQUNyQixJQUFJO2dCQUNGLE9BQU9GLFFBQVFBLEtBQUtDLENBQUMsR0FBR0QsS0FBS0MsQ0FBQyxDQUFDQyxRQUFRQTtZQUN6QyxFQUFFLFVBQU07Z0JBQ04sT0FBT0E7WUFDVDtRQUNGO3NDQUFHO1FBQUNGO0tBQUs7SUFFVCxNQUFNRyxlQUFlaEIsNkNBQU1BLENBQWlCO0lBQzVDLE1BQU1pQixNQUFNakIsNkNBQU1BLENBQXNCO0lBQ3hDLE1BQU1rQixVQUFVbEIsNkNBQU1BLENBQW9CLEVBQUU7SUFDNUMsTUFBTSxDQUFDbUIsV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQUM7SUFFM0MsTUFBTSxFQUNKb0IsaUJBQWlCLEVBQ2pCQyxnQkFBZ0IsRUFDaEJDLGNBQWMsRUFDZixHQUFHbEIsK0RBQVdBO0lBRWYsNEVBQTRFO0lBQzVFLGtFQUFrRTtJQUNsRSxNQUFNbUIsa0JBQWtCdEIsa0RBQVdBO3FEQUFDLENBQUN1QjtZQUNuQyxPQUFPSixrQkFBa0JLLElBQUk7NkRBQUMsQ0FBQ0MsSUFBZ0JBLEVBQUVGLEVBQUUsS0FBS0E7O1FBQzFEO29EQUFHO1FBQUNKO0tBQWtCO0lBRXRCLGdFQUFnRTtJQUNoRXRCLGdEQUFTQTtrQ0FBQztZQUNSLElBQUlzQixrQkFBa0JPLE1BQU0s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b0J0QkMsMkRBQVdBOzs7S0FyQlhNO0FBaVJOLGlFQUFlQSxZQUFZQSxFQUFDIiwic291cmNlcyI6WyJQOlxcR2FsZW9uIHByb2plY3RzXFxnYWxlb24tY29tbXVuaXR5LWhvc3BpdGFsLW1hcFxcbWFpblxcYXBwXFxjb21wb25lbnRzXFxNYXAudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IGFwcC9jb21wb25lbnRzL01hcC50c3hcclxuJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IG1hcGJveGdsIGZyb20gJ21hcGJveC1nbCc7XHJcbmltcG9ydCAnbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmNzcyc7XHJcbmltcG9ydCB7IHVzZUxpbmd1aSB9IGZyb20gJ0BsaW5ndWkvcmVhY3QnO1xyXG5pbXBvcnQgeyBIb3NwaXRhbCwgdXNlTWFwU3RvcmUgfSBmcm9tICcuLi9zdG9yZS91c2VNYXBTdG9yZSc7XHJcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJztcclxuXHJcbi8vIFNldHVwIE1hcEJveCB0b2tlbiAoaW4gcHJvZHVjdGlvbiwgdXNlIGVudmlyb25tZW50IHZhcmlhYmxlcylcclxubWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVBCT1hfVE9LRU4gfHwgJ3BrLmV5SjFJam9pYW1WaGJtSnZiamt4SWl3aVlTSTZJbU50TkRsaE1ITXpOVEEzWW5reWNYTTJkbVl4YzI4MU1Ia2lmUS50YVlZTTNqeEVMWjVDWnVPSDlfM1NRJztcclxuXHJcbmludGVyZmFjZSBNYXBDb21wb25lbnRQcm9wcyB7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBNYXBDb21wb25lbnQ6IFJlYWN0LkZDPE1hcENvbXBvbmVudFByb3BzPiA9ICh7IGNsYXNzTmFtZSA9ICcnIH0pID0+IHtcclxuICBjb25zdCB7IGkxOG4gfSA9IHVzZUxpbmd1aSgpO1xyXG4gIFxyXG4gIC8vIENyZWF0ZSBhIHNhZmUgdHJhbnNsYXRpb24gZnVuY3Rpb24gd3JhcHBlZCBpbiB1c2VDYWxsYmFja1xyXG4gIGNvbnN0IF8gPSB1c2VDYWxsYmFjaygodGV4dDogc3RyaW5nKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gaTE4biAmJiBpMThuLl8gPyBpMThuLl8odGV4dCkgOiB0ZXh0O1xyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgfVxyXG4gIH0sIFtpMThuXSk7XHJcbiAgXHJcbiAgY29uc3QgbWFwQ29udGFpbmVyID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBtYXAgPSB1c2VSZWY8bWFwYm94Z2wuTWFwIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgbWFya2VycyA9IHVzZVJlZjxtYXBib3hnbC5NYXJrZXJbXT4oW10pO1xyXG4gIGNvbnN0IFttYXBMb2FkZWQsIHNldE1hcExvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgXHJcbiAgY29uc3QgeyBcclxuICAgIGZpbHRlcmVkSG9zcGl0YWxzLCBcclxuICAgIHNlbGVjdGVkSG9zcGl0YWwsIFxyXG4gICAgc2VsZWN0SG9zcGl0YWwgXHJcbiAgfSA9IHVzZU1hcFN0b3JlKCk7XHJcblxyXG4gIC8vIFBvdXIgw6l2aXRlciBsZSB3YXJuaW5nIFwiSG9zcGl0YWwgaXMgZGVjbGFyZWQgYnV0IGl0cyB2YWx1ZSBpcyBuZXZlciByZWFkXCJcclxuICAvLyBFbmNhcHN1bMOpIGRhbnMgdXNlQ2FsbGJhY2sgcG91ciDDqXZpdGVyIGxlcyByZWNyw6lhdGlvbnMgaW51dGlsZXNcclxuICBjb25zdCBnZXRIb3NwaXRhbEJ5SWQgPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZyk6IEhvc3BpdGFsIHwgdW5kZWZpbmVkID0+IHtcclxuICAgIHJldHVybiBmaWx0ZXJlZEhvc3BpdGFscy5maW5kKChoOiBIb3NwaXRhbCkgPT4gaC5pZCA9PT0gaWQpO1xyXG4gIH0sIFtmaWx0ZXJlZEhvc3BpdGFsc10pO1xyXG5cclxuICAvLyBMb2cgZGVzIGjDtHBpdGF1eCBwb3VyIHV0aWxpc2VyIGV4cGxpY2l0ZW1lbnQgbGUgdHlwZSBIb3NwaXRhbFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoZmlsdGVyZWRIb3NwaXRhbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIkZpbHRlcmVkIGhvc3BpdGFsczpcIiwgZmlsdGVyZWRIb3NwaXRhbHMubWFwKChoOiBIb3NwaXRhbCkgPT4gKHtcclxuICAgICAgICBpZDogaC5pZCxcclxuICAgICAgICBuYW1lOiBoLm5hbWUsXHJcbiAgICAgICAgc3RhdHVzOiBoLnN0YXR1cyxcclxuICAgICAgICBsb2NhdGlvbjogaC5jb29yZGluYXRlc1xyXG4gICAgICB9KSkpO1xyXG4gICAgfVxyXG4gIH0sIFtmaWx0ZXJlZEhvc3BpdGFsc10pO1xyXG5cclxuICAvLyBJbml0aWFsaXplIG1hcFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIW1hcENvbnRhaW5lci5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgbWFwLmN1cnJlbnQgPSBuZXcgbWFwYm94Z2wuTWFwKHtcclxuICAgICAgY29udGFpbmVyOiBtYXBDb250YWluZXIuY3VycmVudCxcclxuICAgICAgc3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L2RhcmstdjExJyxcclxuICAgICAgY2VudGVyOiBbMi4yMTM3NDksIDQ2LjIyNzYzOF0sIC8vIENlbnRlciBvZiBGcmFuY2VcclxuICAgICAgem9vbTogNSxcclxuICAgICAgYXR0cmlidXRpb25Db250cm9sOiBmYWxzZSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFkZCBuYXZpZ2F0aW9uIGNvbnRyb2xzXHJcbiAgICBtYXAuY3VycmVudC5hZGRDb250cm9sKFxyXG4gICAgICBuZXcgbWFwYm94Z2wuTmF2aWdhdGlvbkNvbnRyb2woKSxcclxuICAgICAgJ2JvdHRvbS1yaWdodCdcclxuICAgICk7XHJcblxyXG4gICAgLy8gQWRkIGdlb2xvY2F0ZSBjb250cm9sXHJcbiAgICBtYXAuY3VycmVudC5hZGRDb250cm9sKFxyXG4gICAgICBuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbCh7XHJcbiAgICAgICAgcG9zaXRpb25PcHRpb25zOiB7XHJcbiAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRyYWNrVXNlckxvY2F0aW9uOiB0cnVlXHJcbiAgICAgIH0pLFxyXG4gICAgICAnYm90dG9tLXJpZ2h0J1xyXG4gICAgKTtcclxuXHJcbiAgICAvLyBBZGQgZnVsbHNjcmVlbiBjb250cm9sXHJcbiAgICBtYXAuY3VycmVudC5hZGRDb250cm9sKFxyXG4gICAgICBuZXcgbWFwYm94Z2wuRnVsbHNjcmVlbkNvbnRyb2woKSxcclxuICAgICAgJ2JvdHRvbS1yaWdodCdcclxuICAgICk7XHJcblxyXG4gICAgbWFwLmN1cnJlbnQub24oJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgIHNldE1hcExvYWRlZCh0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENsZWFudXAgb24gdW5tb3VudFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKG1hcC5jdXJyZW50KSB7XHJcbiAgICAgICAgbWFwLmN1cnJlbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgbWFwLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gSGFuZGxlIG1hcmtlcnMgdXBkYXRlIHdoZW4gaG9zcGl0YWxzIGNoYW5nZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIW1hcExvYWRlZCB8fCAhbWFwLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyBDbGVhciBleGlzdGluZyBtYXJrZXJzXHJcbiAgICBtYXJrZXJzLmN1cnJlbnQuZm9yRWFjaChtYXJrZXIgPT4gbWFya2VyLnJlbW92ZSgpKTtcclxuICAgIG1hcmtlcnMuY3VycmVudCA9IFtdO1xyXG5cclxuICAgIC8vIEFkZCBtYXJrZXJzIGZvciBmaWx0ZXJlZCBob3NwaXRhbHNcclxuICAgIGZpbHRlcmVkSG9zcGl0YWxzLmZvckVhY2goKGhvc3BpdGFsOiBIb3NwaXRhbCkgPT4ge1xyXG4gICAgICAvLyBDcmVhdGUgY3VzdG9tIG1hcmtlciBlbGVtZW50XHJcbiAgICAgIGNvbnN0IG1hcmtlckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIG1hcmtlckVsLmNsYXNzTmFtZSA9ICdob3NwaXRhbC1tYXJrZXInO1xyXG4gICAgICBtYXJrZXJFbC5zdHlsZS53aWR0aCA9ICcyNHB4JztcclxuICAgICAgbWFya2VyRWwuc3R5bGUuaGVpZ2h0ID0gJzI0cHgnO1xyXG4gICAgICBtYXJrZXJFbC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTAlJztcclxuICAgICAgbWFya2VyRWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaG9zcGl0YWwuc3RhdHVzID09PSAnRGVwbG95ZWQnID8gJyMzNkEyRUInIDogJyM0QkMwQzAnO1xyXG4gICAgICBtYXJrZXJFbC5zdHlsZS5ib3JkZXIgPSAnMnB4IHNvbGlkIHdoaXRlJztcclxuICAgICAgbWFya2VyRWwuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG4gICAgICBtYXJrZXJFbC5zdHlsZS5ib3hTaGFkb3cgPSAnMCAycHggNHB4IHJnYmEoMCwwLDAsMC4zKSc7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDcmVhdGUgcG9wdXAgd2l0aCBob3NwaXRhbCBpbmZvXHJcbiAgICAgIGNvbnN0IHBvcHVwID0gbmV3IG1hcGJveGdsLlBvcHVwKHsgXHJcbiAgICAgICAgb2Zmc2V0OiAyNSxcclxuICAgICAgICBjbG9zZUJ1dHRvbjogZmFsc2UsXHJcbiAgICAgICAgbWF4V2lkdGg6ICczMDBweCcsXHJcbiAgICAgICAgY2xhc3NOYW1lOiAnaG9zcGl0YWwtcG9wdXAnXHJcbiAgICAgIH0pLnNldEhUTUwoYFxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiAwOyBib3JkZXItcmFkaXVzOiA4cHg7IGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwwLDAsMC4xKTsgb3ZlcmZsb3c6IGhpZGRlbjtcIj5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxNDBweDsgcG9zaXRpb246IHJlbGF0aXZlOyBvdmVyZmxvdzogaGlkZGVuO1wiPlxyXG4gICAgICAgICAgICA8aW1nIFxyXG4gICAgICAgICAgICAgIHNyYz1cIiR7aG9zcGl0YWwuaW1hZ2VVcmx9XCIgXHJcbiAgICAgICAgICAgICAgYWx0PVwiJHtob3NwaXRhbC5uYW1lfVwiIFxyXG4gICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgb2JqZWN0LWZpdDogY292ZXI7XCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDE2cHg7XCI+XHJcbiAgICAgICAgICAgIDxoMyBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IDYwMDsgbWFyZ2luLWJvdHRvbTogOHB4OyBjb2xvcjogIzMzMztcIj4ke2hvc3BpdGFsLm5hbWV9PC9oMz5cclxuICAgICAgICAgICAgPHAgc3R5bGU9XCJcclxuICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICAgIHBhZGRpbmc6IDRweCAxMnB4O1xyXG4gICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE2cHg7XHJcbiAgICAgICAgICAgICAgY29sb3I6ICMzYjgyZjY7XHJcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RiZWFmZTtcclxuICAgICAgICAgICAgXCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiA4cHg7IGhlaWdodDogOHB4OyBib3JkZXItcmFkaXVzOiA1MCU7IGJhY2tncm91bmQtY29sb3I6ICMzYjgyZjY7IG1hcmdpbi1yaWdodDogNnB4O1wiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAke18oaG9zcGl0YWwuc3RhdHVzKX0gb24gJHtmb3JtYXQobmV3IERhdGUoaG9zcGl0YWwuZGVwbG95bWVudERhdGUpLCAnZGQvTU0veXl5eScpfVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBnYXA6IDhweDsgbWFyZ2luLXRvcDogMTJweDtcIj5cclxuICAgICAgICAgICAgICA8YSBcclxuICAgICAgICAgICAgICAgIGhyZWY9XCIke2hvc3BpdGFsLndlYnNpdGV9XCIgXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIiBcclxuICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJcclxuICAgICAgICAgICAgICAgICAgZmxleDogMTtcclxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzYjgyZjY7XHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICR7XygnV2Vic2l0ZScpfVxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJcclxuICAgICAgICAgICAgICAgICAgZmxleDogMTtcclxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWY1Zjk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAjNjQ3NDhiO1xyXG4gICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XHJcbiAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBcIlxyXG4gICAgICAgICAgICAgICAgb25jbGljaz1cImFsZXJ0KCcke2hvc3BpdGFsLmFkZHJlc3N9JylcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICR7XygnQWRkcmVzcycpfVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICBgKTtcclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhbmQgc3RvcmUgdGhlIG1hcmtlclxyXG4gICAgICBjb25zdCBtYXJrZXIgPSBuZXcgbWFwYm94Z2wuTWFya2VyKG1hcmtlckVsKVxyXG4gICAgICAgIC5zZXRMbmdMYXQoaG9zcGl0YWwuY29vcmRpbmF0ZXMpXHJcbiAgICAgICAgLnNldFBvcHVwKHBvcHVwKVxyXG4gICAgICAgIC5hZGRUbyhtYXAuY3VycmVudCEpO1xyXG4gICAgICBcclxuICAgICAgLy8gQWRkIGNsaWNrIGV2ZW50IHRvIHNlbGVjdCB0aGUgaG9zcGl0YWxcclxuICAgICAgbWFya2VyRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgc2VsZWN0SG9zcGl0YWwoaG9zcGl0YWwpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIG1hcmtlcnMuY3VycmVudC5wdXNoKG1hcmtlcik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJZiBubyBtYXJrZXJzLCByZXR1cm4gdG8gZGVmYXVsdCB2aWV3XHJcbiAgICBpZiAobWFya2Vycy5jdXJyZW50Lmxlbmd0aCA9PT0gMCAmJiBtYXAuY3VycmVudCkge1xyXG4gICAgICBtYXAuY3VycmVudC5mbHlUbyh7XHJcbiAgICAgICAgY2VudGVyOiBbMi4yMTM3NDksIDQ2LjIyNzYzOF0sXHJcbiAgICAgICAgem9vbTogNSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBJZiB0aGVyZSBhcmUgbWFya2VycywgZml0IHRoZSBtYXAgdG8gc2hvdyBhbGwgbWFya2Vyc1xyXG4gICAgZWxzZSBpZiAobWFya2Vycy5jdXJyZW50Lmxlbmd0aCA+IDAgJiYgbWFwLmN1cnJlbnQpIHtcclxuICAgICAgLy8gT25seSBhZGp1c3QgYm91bmRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBob3NwaXRhbHMgb3Igd2UncmUgbm90IGZvY3VzZWQgb24gb25lXHJcbiAgICAgIGlmIChtYXJrZXJzLmN1cnJlbnQubGVuZ3RoID4gMSAmJiAhc2VsZWN0ZWRIb3NwaXRhbCkge1xyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IG5ldyBtYXBib3hnbC5MbmdMYXRCb3VuZHMoKTtcclxuICAgICAgICBcclxuICAgICAgICBmaWx0ZXJlZEhvc3BpdGFscy5mb3JFYWNoKChob3NwaXRhbDogSG9zcGl0YWwpID0+IHtcclxuICAgICAgICAgIGJvdW5kcy5leHRlbmQoaG9zcGl0YWwuY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG1hcC5jdXJyZW50LmZpdEJvdW5kcyhib3VuZHMsIHtcclxuICAgICAgICAgIHBhZGRpbmc6IDUwLFxyXG4gICAgICAgICAgbWF4Wm9vbTogMTAsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbZmlsdGVyZWRIb3NwaXRhbHMsIG1hcExvYWRlZCwgXywgc2VsZWN0SG9zcGl0YWwsIHNlbGVjdGVkSG9zcGl0YWxdKTtcclxuXHJcbiAgLy8gSGFuZGxlIHNlbGVjdGVkIGhvc3BpdGFsIGNoYW5nZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIW1hcC5jdXJyZW50IHx8ICFzZWxlY3RlZEhvc3BpdGFsKSByZXR1cm47XHJcblxyXG4gICAgLy8gRmx5IHRvIHNlbGVjdGVkIGhvc3BpdGFsXHJcbiAgICBtYXAuY3VycmVudC5mbHlUbyh7XHJcbiAgICAgIGNlbnRlcjogc2VsZWN0ZWRIb3NwaXRhbC5jb29yZGluYXRlcyxcclxuICAgICAgem9vbTogMTIsXHJcbiAgICAgIGR1cmF0aW9uOiAxNTAwLFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRmluZCBhbmQgb3BlbiB0aGUgcG9wdXAgZm9yIHRoZSBzZWxlY3RlZCBob3NwaXRhbFxyXG4gICAgY29uc3QgbWFya2VyID0gbWFya2Vycy5jdXJyZW50LmZpbmQobSA9PiB7XHJcbiAgICAgIGNvbnN0IGxuZ0xhdCA9IG0uZ2V0TG5nTGF0KCk7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgbG5nTGF0LmxuZyA9PT0gc2VsZWN0ZWRIb3NwaXRhbC5jb29yZGluYXRlc1swXSAmJiBcclxuICAgICAgICBsbmdMYXQubGF0ID09PSBzZWxlY3RlZEhvc3BpdGFsLmNvb3JkaW5hdGVzWzFdXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAobWFya2VyKSB7XHJcbiAgICAgIG1hcmtlci50b2dnbGVQb3B1cCgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBMb2cgc2VsZWN0ZWRIb3NwaXRhbCBkZXRhaWxzIHRvIHVzZSBIb3NwaXRhbCB0eXBlXHJcbiAgICBjb25zb2xlLmxvZygnU2VsZWN0ZWQgaG9zcGl0YWw6Jywge1xyXG4gICAgICBpZDogc2VsZWN0ZWRIb3NwaXRhbC5pZCxcclxuICAgICAgbmFtZTogc2VsZWN0ZWRIb3NwaXRhbC5uYW1lLFxyXG4gICAgICBjb29yZGluYXRlczogc2VsZWN0ZWRIb3NwaXRhbC5jb29yZGluYXRlcyxcclxuICAgICAgc3RhdHVzOiBzZWxlY3RlZEhvc3BpdGFsLnN0YXR1c1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIFNpbXVsZXIgbGEgcmVjaGVyY2hlIGQndW4gaMO0cGl0YWwgcGFyIElEIHBvdXIgdXRpbGlzZXIgbm90cmUgZm9uY3Rpb24gZ2V0SG9zcGl0YWxCeUlkXHJcbiAgICBjb25zdCBmb3VuZEhvc3BpdGFsID0gZ2V0SG9zcGl0YWxCeUlkKHNlbGVjdGVkSG9zcGl0YWwuaWQpO1xyXG4gICAgaWYgKGZvdW5kSG9zcGl0YWwpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0hvc3BpdGFsIGZvdW5kIGJ5IElEOicsIGZvdW5kSG9zcGl0YWwubmFtZSk7XHJcbiAgICB9XHJcbiAgfSwgW3NlbGVjdGVkSG9zcGl0YWwsIGdldEhvc3BpdGFsQnlJZF0pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBcclxuICAgICAgcmVmPXttYXBDb250YWluZXJ9IFxyXG4gICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsICR7Y2xhc3NOYW1lfWB9XHJcbiAgICAgIGRhdGEtdGVzdGlkPVwibWFwLWNvbnRhaW5lclwiXHJcbiAgICAvPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNYXBDb21wb25lbnQ7Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJtYXBib3hnbCIsInVzZUxpbmd1aSIsInVzZU1hcFN0b3JlIiwiZm9ybWF0IiwiYWNjZXNzVG9rZW4iLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfTUFQQk9YX1RPS0VOIiwiTWFwQ29tcG9uZW50IiwiY2xhc3NOYW1lIiwiaTE4biIsIl8iLCJ0ZXh0IiwibWFwQ29udGFpbmVyIiwibWFwIiwibWFya2VycyIsIm1hcExvYWRlZCIsInNldE1hcExvYWRlZCIsImZpbHRlcmVkSG9zcGl0YWxzIiwic2VsZWN0ZWRIb3NwaXRhbCIsInNlbGVjdEhvc3BpdGFsIiwiZ2V0SG9zcGl0YWxCeUlkIiwiaWQiLCJmaW5kIiwiaCIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwic3RhdHVzIiwibG9jYXRpb24iLCJjb29yZGluYXRlcyIsImN1cnJlbnQiLCJNYXAiLCJjb250YWluZXIiLCJzdHlsZSIsImNlbnRlciIsInpvb20iLCJhdHRyaWJ1dGlvbkNvbnRyb2wiLCJhZGRDb250cm9sIiwiTmF2aWdhdGlvbkNvbnRyb2wiLCJHZW9sb2NhdGVDb250cm9sIiwicG9zaXRpb25PcHRpb25zIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwidHJhY2tVc2VyTG9jYXRpb24iLCJGdWxsc2NyZWVuQ29udHJvbCIsIm9uIiwicmVtb3ZlIiwiZm9yRWFjaCIsIm1hcmtlciIsImhvc3BpdGFsIiwibWFya2VyRWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsImhlaWdodCIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImN1cnNvciIsImJveFNoYWRvdyIsInBvcHVwIiwiUG9wdXAiLCJvZmZzZXQiLCJjbG9zZUJ1dHRvbiIsIm1heFdpZHRoIiwic2V0SFRNTCIsImltYWdlVXJsIiwiRGF0ZSIsImRlcGxveW1lbnREYXRlIiwid2Vic2l0ZSIsImFkZHJlc3MiLCJNYXJrZXIiLCJzZXRMbmdMYXQiLCJzZXRQb3B1cCIsImFkZFRvIiwiYWRkRXZlbnRMaXN0ZW5lciIsInB1c2giLCJmbHlUbyIsImJvdW5kcyIsIkxuZ0xhdEJvdW5kcyIsImV4dGVuZCIsImZpdEJvdW5kcyIsInBhZGRpbmciLCJtYXhab29tIiwiZHVyYXRpb24iLCJtIiwibG5nTGF0IiwiZ2V0TG5nTGF0IiwibG5nIiwibGF0IiwidG9nZ2xlUG9wdXAiLCJmb3VuZEhvc3BpdGFsIiwiZGl2IiwicmVmIiwiZGF0YS10ZXN0aWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/components/Map.tsx\n"));

/***/ })

});